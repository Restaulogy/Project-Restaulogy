<?php/**********************************************************************sessions.class.phpGenerated by STRUCTY 2012.12.06 10:42:54.Copyright 2011 Structy, Frdric Aebi. All rights reserved.**********************************************************************/define("SESSIONS", "sessions"); class sessions {	private $session_id;	private $http_user_agent;	private $session_data;	private $session_expire;	public function setsession_id($pArg="0") {$this->session_id=$pArg;}	public function sethttp_user_agent($pArg="0") {$this->http_user_agent=$pArg;}	public function setsession_data($pArg="0") {$this->session_data=$pArg;}	public function setsession_expire($pArg="0") {$this->session_expire=$pArg;}	public function getsession_id() {return $this->session_id;}	public function gethttp_user_agent() {return $this->http_user_agent;}	public function getsession_data() {return $this->session_data;}	public function getsession_expire() {return $this->session_expire;}	public function readObject($array = array()) {		$qry = "SELECT *".RET."FROM ".SESSIONS.RET;		$and = "WHERE".RET;		if($array['session_id'] != "") {			$qry .= $and."session_id = '".$array['session_id']."'".RET;			$and = "AND".RET;		}		if($array['http_user_agent'] != "") {			$qry .= $and."http_user_agent = '".$array['http_user_agent']."'".RET;			$and = "AND".RET;		}		if($array['session_data'] != "") {			$qry .= $and."session_data = '".$array['session_data']."'".RET;			$and = "AND".RET;		}		if($array['session_expire'] != "") {			$qry .= $and."session_expire = '".$array['session_expire']."'".RET;			$and = "AND".RET;		}		$record = mysql_query($qry);		if(count($record[0]) == 0) {			return array();		} else {			$record = $record[0];			$this->setsession_id($record['session_id']);			$this->sethttp_user_agent($record['http_user_agent']);			$this->setsession_data($record['session_data']);			$this->setsession_expire($record['session_expire']);			return true;		}	}	public static function readArray($array = array()) {		$qry = "SELECT *".RET."FROM ".SESSIONS.RET;		$and = "WHERE".RET;		if($array['session_id'] != "") {			$qry .= $and."session_id = '".$array['session_id']."'".RET;			$and = "AND".RET;		}		if($array['http_user_agent'] != "") {			$qry .= $and."http_user_agent = '".$array['http_user_agent']."'".RET;			$and = "AND".RET;		}		if($array['session_data'] != "") {			$qry .= $and."session_data = '".$array['session_data']."'".RET;			$and = "AND".RET;		}		if($array['session_expire'] != "") {			$qry .= $and."session_expire = '".$array['session_expire']."'".RET;			$and = "AND".RET;		}		$recordset = mysql_query($qry);		$class_objects = array();		if(is_array($recordset) == true) {			while(list($i, $record) = each($recordset)) {				$class_object = new sessions();				$class_object->setsession_id($record['session_id']);				$class_object->sethttp_user_agent($record['http_user_agent']);				$class_object->setsession_data($record['session_data']);				$class_object->setsession_expire($record['session_expire']);				$class_objects[$class_object->getsession_id()] = $class_object;			}		}		return $class_objects;	}	public function insert() {		if($this->getsession_id() != '') {			$qry  = "UPDATE ".SESSIONS.RET."SET".RET.			"session_id = '".$this->getsession_id()."',".RET.			"http_user_agent = '".$this->gethttp_user_agent()."',".RET.			"session_data = '".$this->getsession_data()."',".RET.			"session_expire = '".$this->getsession_expire()."'".RET.			"WHERE session_id = ".$this->getsession_id().RET;			mysql_query($qry);		} else {			$qry  = "INSERT INTO ".SESSIONS." (".RET.			"http_user_agent, session_data, session_expire".RET.				") VALUES (".RET.			"'".$this->gethttp_user_agent()."',".RET.			"'".$this->getsession_data()."',".RET.			"'".$this->getsession_expire()."'".RET.			")".RET;			$res = mysql_query($qry);			$this->setsession_id(mysql_insert_id($res));		}	}	public static function delete($array = array()) {		$qry = "DELETE".RET."FROM ".SESSIONS.RET;		$and = "WHERE".RET;		if($array['session_id'] != "") {			$qry .= $and."session_id = '".$array['session_id']."'".RET;			$and = "AND".RET;		}		if($array['http_user_agent'] != "") {			$qry .= $and."http_user_agent = '".$array['http_user_agent']."'".RET;			$and = "AND".RET;		}		if($array['session_data'] != "") {			$qry .= $and."session_data = '".$array['session_data']."'".RET;			$and = "AND".RET;		}		if($array['session_expire'] != "") {			$qry .= $and."session_expire = '".$array['session_expire']."'".RET;			$and = "AND".RET;		}		mysql_query($qry);	}}?>