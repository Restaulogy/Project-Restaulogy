<?php/**********************************************************************biz_templates.class.phpGenerated by STRUCTY 2012.02.21 07:21:45.Copyright 2011 Structy, Frédéric Aebi. All rights reserved.**********************************************************************/define("BIZ_TEMPLATES", "biz_templates"); class biz_templates {	private $template_id;	private $template_title;	private $template_file;	private $template_type;	private $template_created_on;	public function settemplate_id($pArg="0") {$this->template_id=$pArg;}	public function settemplate_title($pArg="0") {$this->template_title=$pArg;}	public function settemplate_file($pArg="0") {$this->template_file=$pArg;}	public function settemplate_type($pArg="0") {$this->template_type=$pArg;}	public function settemplate_created_on($pArg="0") {$this->template_created_on=$pArg;}	public function gettemplate_id() {return $this->template_id;}	public function gettemplate_title() {return $this->template_title;}	public function gettemplate_file() {return $this->template_file;}	public function gettemplate_type() {return $this->template_type;}	public function gettemplate_created_on() {return $this->template_created_on;}	public function readObject($array = array()) {		$qry = "SELECT *".RET."FROM ".BIZ_TEMPLATES.RET;		$and = "WHERE".RET;		if($array['template_id'] != "") {			$qry .= $and."template_id = '".$array['template_id']."'".RET;			$and = "AND".RET;		}		if($array['template_title'] != "") {			$qry .= $and."template_title = '".$array['template_title']."'".RET;			$and = "AND".RET;		}		if($array['template_file'] != "") {			$qry .= $and."template_file = '".$array['template_file']."'".RET;			$and = "AND".RET;		}		if($array['template_type'] != "") {			$qry .= $and."template_type = '".$array['template_type']."'".RET;			$and = "AND".RET;		}		if($array['template_created_on'] != "") {			$qry .= $and."template_created_on = '".$array['template_created_on']."'".RET;			$and = "AND".RET;		}  		/*$record = Database::select($qry);*/  		$result = mysql_query($qry);        //echo $result."<br>";		if ($result){            while ($row = mysql_fetch_array($result, MYSQL_ASSOC)) {				$record = $row;				//break;    			//printf("ID: %s  Name: %s", $row["id"], $row["name"]);			}            //$record = mysql_fetch_array($result);            mysql_free_result($result);  		}else{          return array();		}				if(count($record) == 0) {			return array();		} else {			/*$record = $record[0];*/			$this->settemplate_id($record['template_id']);			$this->settemplate_title($record['template_title']);			$this->settemplate_file($record['template_file']);			$this->settemplate_type($record['template_type']);			$this->settemplate_created_on($record['template_created_on']);			return true;		}	}	public static function readArray($array = array()) {		$qry = "SELECT *".RET."FROM ".BIZ_TEMPLATES.RET;		$and = "WHERE".RET;		if($array['template_id'] != "") {			$qry .= $and."template_id = '".$array['template_id']."'".RET;			$and = "AND".RET;		}		if($array['template_title'] != "") {			$qry .= $and."template_title = '".$array['template_title']."'".RET;			$and = "AND".RET;		}		if($array['template_file'] != "") {			$qry .= $and."template_file = '".$array['template_file']."'".RET;			$and = "AND".RET;		}		if($array['template_type'] != "") {			$qry .= $and."template_type = '".$array['template_type']."'".RET;			$and = "AND".RET;		}		if($array['template_created_on'] != "") {			$qry .= $and."template_created_on = '".$array['template_created_on']."'".RET;			$and = "AND".RET;		}		/*$recordset = Database::select($qry);*/		$result = mysql_query($qry);		while ($row = mysql_fetch_assoc($result)) {		  $recordset[] = $row;		}		$class_objects = array();		if(is_array($recordset) == true) {			while(list($i, $record) = each($recordset)) {				$class_object = new biz_templates();				$class_object->settemplate_id($record['template_id']);				$class_object->settemplate_title($record['template_title']);				$class_object->settemplate_file($record['template_file']);				$class_object->settemplate_type($record['template_type']);				$class_object->settemplate_created_on($record['template_created_on']);				$class_objects[$class_object->gettemplate_id()] = $class_object;			}		}		return $class_objects;	}	public function insert() {		if($this->gettemplate_id() != '') {			$qry  = "UPDATE ".BIZ_TEMPLATES.RET."SET".RET.			"template_id = '".$this->gettemplate_id()."',".RET.			"template_title = '".$this->gettemplate_title()."',".RET.			"template_file = '".$this->gettemplate_file()."',".RET.			"template_type = '".$this->gettemplate_type()."',".RET.			"template_created_on = '".$this->gettemplate_created_on()."'".RET.			"WHERE template_id = ".$this->gettemplate_id().RET;			/*Database::insert($qry);*/			$res = mysql_query($qry);		} else {			$qry  = "INSERT INTO ".BIZ_TEMPLATES." (".RET.			"template_title, template_file, template_type, template_created_on".RET.				") VALUES (".RET.			"'".$this->gettemplate_title()."',".RET.			"'".$this->gettemplate_file()."',".RET.			"'".$this->gettemplate_type()."',".RET.			"'".$this->gettemplate_created_on()."'".RET.			")".RET;			/*$this->settemplate_id(Database::insert($qry));*/			$res = mysql_query($qry);			$this->settemplate_id(mysql_insert_id());		}	}	public static function delete($array = array()) {		$qry = "DELETE".RET."FROM ".BIZ_TEMPLATES.RET;		$and = "WHERE".RET;		if($array['template_id'] != "") {			$qry .= $and."template_id = '".$array['template_id']."'".RET;			$and = "AND".RET;		}		if($array['template_title'] != "") {			$qry .= $and."template_title = '".$array['template_title']."'".RET;			$and = "AND".RET;		}		if($array['template_file'] != "") {			$qry .= $and."template_file = '".$array['template_file']."'".RET;			$and = "AND".RET;		}		if($array['template_type'] != "") {			$qry .= $and."template_type = '".$array['template_type']."'".RET;			$and = "AND".RET;		}		if($array['template_created_on'] != "") {			$qry .= $and."template_created_on = '".$array['template_created_on']."'".RET;			$and = "AND".RET;		}        mysql_query($qry);		/*Database::delete($qry);*/	}		public function getalltemplateswithType($type=""){        $sql_condition = "";		if(is_not_empty($type)){			$sql_condition = " where template_type = '$type'";  		}        $qry = "Select template_id , template_title FROM  ".BIZ_TEMPLATES.RET.$sql_condition;		$tpl_array = array();				$result = mysql_query($qry);		while ($row = mysql_fetch_assoc($result)) {		  $tpl_array[] = $row;		}		return $tpl_array;	}	}?>