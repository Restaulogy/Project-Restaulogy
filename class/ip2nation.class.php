<?php/**********************************************************************ip2nation.class.phpGenerated by STRUCTY 2012.12.06 10:42:54.Copyright 2011 Structy, Frdric Aebi. All rights reserved.**********************************************************************/define("IP2NATION", "ip2nation"); class ip2nation {	private $ip;	private $country;	public function setip($pArg="0") {$this->ip=$pArg;}	public function setcountry($pArg="0") {$this->country=$pArg;}	public function getip() {return $this->ip;}	public function getcountry() {return $this->country;}	public function readObject($array = array()) {		$qry = "SELECT *".RET."FROM ".IP2NATION.RET;		$and = "WHERE".RET;		if($array['ip'] != "") {			$qry .= $and."ip = '".$array['ip']."'".RET;			$and = "AND".RET;		}		if($array['country'] != "") {			$qry .= $and."country = '".$array['country']."'".RET;			$and = "AND".RET;		}		$record = mysql_query($qry);		if(count($record[0]) == 0) {			return array();		} else {			$record = $record[0];			$this->setip($record['ip']);			$this->setcountry($record['country']);			return true;		}	}	public static function readArray($array = array()) {		$qry = "SELECT *".RET."FROM ".IP2NATION.RET;		$and = "WHERE".RET;		if($array['ip'] != "") {			$qry .= $and."ip = '".$array['ip']."'".RET;			$and = "AND".RET;		}		if($array['country'] != "") {			$qry .= $and."country = '".$array['country']."'".RET;			$and = "AND".RET;		}		$recordset = mysql_query($qry);		$class_objects = array();		if(is_array($recordset) == true) {			while(list($i, $record) = each($recordset)) {				$class_object = new ip2nation();				$class_object->setip($record['ip']);				$class_object->setcountry($record['country']);				$class_objects[$class_object->getip()] = $class_object;			}		}		return $class_objects;	}	public function insert($update = FALSE) {		if($update == TRUE) {			$qry  = "UPDATE ".IP2NATION.RET."SET".RET.			"ip = '".$this->getip()."',".RET.			"country = '".$this->getcountry()."'".RET.RET; 			mysql_query($qry);		} else {			$qry  = "INSERT INTO ".IP2NATION." (".RET.			"ip, country".RET.			") VALUES (".RET.			"'".$this->getip()."',".RET.			"'".$this->getcountry()."'".RET.			")".RET;			mysql_query($qry);		}	}	public static function delete($array = array()) {		$qry = "DELETE".RET."FROM ".IP2NATION.RET;		$and = "WHERE".RET;		if($array['ip'] != "") {			$qry .= $and."ip = '".$array['ip']."'".RET;			$and = "AND".RET;		}		if($array['country'] != "") {			$qry .= $and."country = '".$array['country']."'".RET;			$and = "AND".RET;		}		mysql_query($qry);	}}?>