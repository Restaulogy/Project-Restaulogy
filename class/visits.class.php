<?php/**********************************************************************visits.class.phpGenerated by STRUCTY 2012.12.06 10:42:54.Copyright 2011 Structy, Frdric Aebi. All rights reserved.**********************************************************************/define("VISITS", "visits"); class visits {	private $id;	private $ip_adr;	private $referer;	private $country;	private $client;	private $visit_date;	private $time;	private $on_page;	private $hostname;	public function setid($pArg="0") {$this->id=$pArg;}	public function setip_adr($pArg="0") {$this->ip_adr=$pArg;}	public function setreferer($pArg="0") {$this->referer=$pArg;}	public function setcountry($pArg="0") {$this->country=$pArg;}	public function setclient($pArg="0") {$this->client=$pArg;}	public function setvisit_date($pArg="0") {$this->visit_date=$pArg;}	public function settime($pArg="0") {$this->time=$pArg;}	public function seton_page($pArg="0") {$this->on_page=$pArg;}	public function sethostname($pArg="0") {$this->hostname=$pArg;}	public function getid() {return $this->id;}	public function getip_adr() {return $this->ip_adr;}	public function getreferer() {return $this->referer;}	public function getcountry() {return $this->country;}	public function getclient() {return $this->client;}	public function getvisit_date() {return $this->visit_date;}	public function gettime() {return $this->time;}	public function geton_page() {return $this->on_page;}	public function gethostname() {return $this->hostname;}	public function readObject($array = array()) {		$qry = "SELECT *".RET."FROM ".VISITS.RET;		$and = "WHERE".RET;		if($array['id'] != "") {			$qry .= $and."id = '".$array['id']."'".RET;			$and = "AND".RET;		}		if($array['ip_adr'] != "") {			$qry .= $and."ip_adr = '".$array['ip_adr']."'".RET;			$and = "AND".RET;		}		if($array['referer'] != "") {			$qry .= $and."referer = '".$array['referer']."'".RET;			$and = "AND".RET;		}		if($array['country'] != "") {			$qry .= $and."country = '".$array['country']."'".RET;			$and = "AND".RET;		}		if($array['client'] != "") {			$qry .= $and."client = '".$array['client']."'".RET;			$and = "AND".RET;		}		if($array['visit_date'] != "") {			$qry .= $and."visit_date = '".$array['visit_date']."'".RET;			$and = "AND".RET;		}		if($array['time'] != "") {			$qry .= $and."time = '".$array['time']."'".RET;			$and = "AND".RET;		}		if($array['on_page'] != "") {			$qry .= $and."on_page = '".$array['on_page']."'".RET;			$and = "AND".RET;		}		if($array['hostname'] != "") {			$qry .= $and."hostname = '".$array['hostname']."'".RET;			$and = "AND".RET;		}		$record = mysql_query($qry);		if(count($record[0]) == 0) {			return array();		} else {			$record = $record[0];			$this->setid($record['id']);			$this->setip_adr($record['ip_adr']);			$this->setreferer($record['referer']);			$this->setcountry($record['country']);			$this->setclient($record['client']);			$this->setvisit_date($record['visit_date']);			$this->settime($record['time']);			$this->seton_page($record['on_page']);			$this->sethostname($record['hostname']);			return true;		}	}	public static function readArray($array = array()) {		$qry = "SELECT *".RET."FROM ".VISITS.RET;		$and = "WHERE".RET;		if($array['id'] != "") {			$qry .= $and."id = '".$array['id']."'".RET;			$and = "AND".RET;		}		if($array['ip_adr'] != "") {			$qry .= $and."ip_adr = '".$array['ip_adr']."'".RET;			$and = "AND".RET;		}		if($array['referer'] != "") {			$qry .= $and."referer = '".$array['referer']."'".RET;			$and = "AND".RET;		}		if($array['country'] != "") {			$qry .= $and."country = '".$array['country']."'".RET;			$and = "AND".RET;		}		if($array['client'] != "") {			$qry .= $and."client = '".$array['client']."'".RET;			$and = "AND".RET;		}		if($array['visit_date'] != "") {			$qry .= $and."visit_date = '".$array['visit_date']."'".RET;			$and = "AND".RET;		}		if($array['time'] != "") {			$qry .= $and."time = '".$array['time']."'".RET;			$and = "AND".RET;		}		if($array['on_page'] != "") {			$qry .= $and."on_page = '".$array['on_page']."'".RET;			$and = "AND".RET;		}		if($array['hostname'] != "") {			$qry .= $and."hostname = '".$array['hostname']."'".RET;			$and = "AND".RET;		}		$recordset = mysql_query($qry);		$class_objects = array();		if(is_array($recordset) == true) {			while(list($i, $record) = each($recordset)) {				$class_object = new visits();				$class_object->setid($record['id']);				$class_object->setip_adr($record['ip_adr']);				$class_object->setreferer($record['referer']);				$class_object->setcountry($record['country']);				$class_object->setclient($record['client']);				$class_object->setvisit_date($record['visit_date']);				$class_object->settime($record['time']);				$class_object->seton_page($record['on_page']);				$class_object->sethostname($record['hostname']);				$class_objects[$class_object->getid()] = $class_object;			}		}		return $class_objects;	}	public function insert() {		if($this->getid() != '') {			$qry  = "UPDATE ".VISITS.RET."SET".RET.			"id = '".$this->getid()."',".RET.			"ip_adr = '".$this->getip_adr()."',".RET.			"referer = '".$this->getreferer()."',".RET.			"country = '".$this->getcountry()."',".RET.			"client = '".$this->getclient()."',".RET.			"visit_date = '".$this->getvisit_date()."',".RET.			"time = '".$this->gettime()."',".RET.			"on_page = '".$this->geton_page()."',".RET.			"hostname = '".$this->gethostname()."'".RET.			"WHERE id = ".$this->getid().RET;			mysql_query($qry);		} else {			$qry  = "INSERT INTO ".VISITS." (".RET.			"ip_adr, referer, country, client, visit_date, time, on_page, hostname".RET.				") VALUES (".RET.			"'".$this->getip_adr()."',".RET.			"'".$this->getreferer()."',".RET.			"'".$this->getcountry()."',".RET.			"'".$this->getclient()."',".RET.			"'".$this->getvisit_date()."',".RET.			"'".$this->gettime()."',".RET.			"'".$this->geton_page()."',".RET.			"'".$this->gethostname()."'".RET.			")".RET;			$res = mysql_query($qry);			$this->setid(mysql_insert_id($res));		}	}	public static function delete($array = array()) {		$qry = "DELETE".RET."FROM ".VISITS.RET;		$and = "WHERE".RET;		if($array['id'] != "") {			$qry .= $and."id = '".$array['id']."'".RET;			$and = "AND".RET;		}		if($array['ip_adr'] != "") {			$qry .= $and."ip_adr = '".$array['ip_adr']."'".RET;			$and = "AND".RET;		}		if($array['referer'] != "") {			$qry .= $and."referer = '".$array['referer']."'".RET;			$and = "AND".RET;		}		if($array['country'] != "") {			$qry .= $and."country = '".$array['country']."'".RET;			$and = "AND".RET;		}		if($array['client'] != "") {			$qry .= $and."client = '".$array['client']."'".RET;			$and = "AND".RET;		}		if($array['visit_date'] != "") {			$qry .= $and."visit_date = '".$array['visit_date']."'".RET;			$and = "AND".RET;		}		if($array['time'] != "") {			$qry .= $and."time = '".$array['time']."'".RET;			$and = "AND".RET;		}		if($array['on_page'] != "") {			$qry .= $and."on_page = '".$array['on_page']."'".RET;			$and = "AND".RET;		}		if($array['hostname'] != "") {			$qry .= $and."hostname = '".$array['hostname']."'".RET;			$and = "AND".RET;		}		mysql_query($qry);	}}?>