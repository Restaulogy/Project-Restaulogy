<?php/**********************************************************************tbl_nutrition.class.phpGenerated by STRUCTY 2014.06.05 10:31:32.Copyright 2011 Structy, Frdric Aebi. All rights reserved.**********************************************************************/define("TBL_NUTRITION", "tbl_nutrition"); define('NUTR_ID', 'nutr_id'); define('NUTR_DISH_ID', 'nutr_dish_id'); define('NUTR_TOTAL_CAL', 'nutr_total_cal'); define('NUTR_CAL_FROM_FAT', 'nutr_cal_from_fat'); define('NUTR_TOTAL_FAT', 'nutr_total_fat'); define('NUTR_SATURATED_FAT', 'nutr_saturated_fat'); define('NUTR_TRANS_FAT', 'nutr_trans_fat'); define('NUTR_CHOLESTROL', 'nutr_cholestrol'); define('NUTR_SODIUM', 'nutr_sodium'); define('NUTR_TOTAL_CARBOHYDRATE', 'nutr_total_carbohydrate'); define('NUTR_SUGAR', 'nutr_sugar'); define('NUTR_DIETARY_FIBER', 'nutr_dietary_fiber'); define('NUTR_PROTEIN', 'nutr_protein'); define('NUTR_START_DATE', 'nutr_start_date'); define('NUTR_END_DATE', 'nutr_end_date'); define("TBL_NUTRITION_ACTIVE_DATE",  NUTR_START_DATE);define("TBL_NUTRITION_DEACTIVE_DATE",  NUTR_END_DATE);$tbl_nutrition_active_condition= " (".TBL_NUTRITION_DEACTIVE_DATE." is NULL OR ".TBL_NUTRITION_DEACTIVE_DATE." = 0 OR ".TBL_NUTRITION_DEACTIVE_DATE." > CURDATE( )) ";class tbl_nutrition {	private $nutr_id;	private $nutr_dish_id;	private $nutr_total_cal;	private $nutr_cal_from_fat;	private $nutr_total_fat;	private $nutr_saturated_fat;	private $nutr_trans_fat;	private $nutr_cholestrol;	private $nutr_sodium;	private $nutr_total_carbohydrate;	private $nutr_sugar;	private $nutr_dietary_fiber;	private $nutr_protein;	private $nutr_start_date;	private $nutr_end_date;	private $tbl_nutrition_active_date;	private $tbl_nutrition_deactive_date;	public function setnutr_id($pArg="0") {$this->nutr_id=$pArg;}	public function setnutr_dish_id($pArg="0") {$this->nutr_dish_id=$pArg;}	public function setnutr_total_cal($pArg="0") {$this->nutr_total_cal=$pArg;}	public function setnutr_cal_from_fat($pArg="0") {$this->nutr_cal_from_fat=$pArg;}	public function setnutr_total_fat($pArg="0") {$this->nutr_total_fat=$pArg;}	public function setnutr_saturated_fat($pArg="0") {$this->nutr_saturated_fat=$pArg;}	public function setnutr_trans_fat($pArg="0") {$this->nutr_trans_fat=$pArg;}	public function setnutr_cholestrol($pArg="0") {$this->nutr_cholestrol=$pArg;}	public function setnutr_sodium($pArg="0") {$this->nutr_sodium=$pArg;}	public function setnutr_total_carbohydrate($pArg="0") {$this->nutr_total_carbohydrate=$pArg;}	public function setnutr_sugar($pArg="0") {$this->nutr_sugar=$pArg;}	public function setnutr_dietary_fiber($pArg="0") {$this->nutr_dietary_fiber=$pArg;}	public function setnutr_protein($pArg="0") {$this->nutr_protein=$pArg;}	public function setnutr_start_date($pArg="0") {$this->nutr_start_date=$pArg;}	public function setnutr_end_date($pArg="0") {$this->nutr_end_date=$pArg;}	public function settbl_nutrition_active_date($pArg="0") {$this->tbl_nutrition_active_date=$pArg;}	public function settbl_nutrition_deactive_date($pArg="0") {$this->tbl_nutrition_deactive_date=$pArg;}	public function getnutr_id() {return $this->nutr_id;}	public function getnutr_dish_id() {return $this->nutr_dish_id;}	public function getnutr_total_cal() {return $this->nutr_total_cal;}	public function getnutr_cal_from_fat() {return $this->nutr_cal_from_fat;}	public function getnutr_total_fat() {return $this->nutr_total_fat;}	public function getnutr_saturated_fat() {return $this->nutr_saturated_fat;}	public function getnutr_trans_fat() {return $this->nutr_trans_fat;}	public function getnutr_cholestrol() {return $this->nutr_cholestrol;}	public function getnutr_sodium() {return $this->nutr_sodium;}	public function getnutr_total_carbohydrate() {return $this->nutr_total_carbohydrate;}	public function getnutr_sugar() {return $this->nutr_sugar;}	public function getnutr_dietary_fiber() {return $this->nutr_dietary_fiber;}	public function getnutr_protein() {return $this->nutr_protein;}	public function getnutr_start_date() {return $this->nutr_start_date;}	public function getnutr_end_date() {return $this->nutr_end_date;}	public function gettbl_nutrition_active_date($pArg="0") {return $this->tbl_nutrition_active_date;}	public function gettbl_nutrition_deactive_date($pArg="0") {return $this->tbl_nutrition_deactive_date;}	public function readObject($array = array()) {		$qry = "SELECT *".RET."FROM ".TBL_NUTRITION.RET;		$and = "WHERE".RET;		if($array[NUTR_ID] != "") {			$qry .= $and.NUTR_ID." = '".$array[NUTR_ID]."'".RET;			$and = "AND".RET;		}		if($array[NUTR_DISH_ID] != "") {			$qry .= $and.NUTR_DISH_ID." = '".$array[NUTR_DISH_ID]."'".RET;			$and = "AND".RET;		}		if($array[NUTR_TOTAL_CAL] != "") {			$qry .= $and.NUTR_TOTAL_CAL." = '".$array[NUTR_TOTAL_CAL]."'".RET;			$and = "AND".RET;		}		if($array[NUTR_CAL_FROM_FAT] != "") {			$qry .= $and.NUTR_CAL_FROM_FAT." = '".$array[NUTR_CAL_FROM_FAT]."'".RET;			$and = "AND".RET;		}		if($array[NUTR_TOTAL_FAT] != "") {			$qry .= $and.NUTR_TOTAL_FAT." = '".$array[NUTR_TOTAL_FAT]."'".RET;			$and = "AND".RET;		}		if($array[NUTR_SATURATED_FAT] != "") {			$qry .= $and.NUTR_SATURATED_FAT." = '".$array[NUTR_SATURATED_FAT]."'".RET;			$and = "AND".RET;		}		if($array[NUTR_TRANS_FAT] != "") {			$qry .= $and.NUTR_TRANS_FAT." = '".$array[NUTR_TRANS_FAT]."'".RET;			$and = "AND".RET;		}		if($array[NUTR_CHOLESTROL] != "") {			$qry .= $and.NUTR_CHOLESTROL." = '".$array[NUTR_CHOLESTROL]."'".RET;			$and = "AND".RET;		}		if($array[NUTR_SODIUM] != "") {			$qry .= $and.NUTR_SODIUM." = '".$array[NUTR_SODIUM]."'".RET;			$and = "AND".RET;		}		if($array[NUTR_TOTAL_CARBOHYDRATE] != "") {			$qry .= $and.NUTR_TOTAL_CARBOHYDRATE." = '".$array[NUTR_TOTAL_CARBOHYDRATE]."'".RET;			$and = "AND".RET;		}		if($array[NUTR_SUGAR] != "") {			$qry .= $and.NUTR_SUGAR." = '".$array[NUTR_SUGAR]."'".RET;			$and = "AND".RET;		}		if($array[NUTR_DIETARY_FIBER] != "") {			$qry .= $and.NUTR_DIETARY_FIBER." = '".$array[NUTR_DIETARY_FIBER]."'".RET;			$and = "AND".RET;		}		if($array[NUTR_PROTEIN] != "") {			$qry .= $and.NUTR_PROTEIN." = '".$array[NUTR_PROTEIN]."'".RET;			$and = "AND".RET;		}		if($array[NUTR_START_DATE] != "") {			$qry .= $and.NUTR_START_DATE." = '".$array[NUTR_START_DATE]."'".RET;			$and = "AND".RET;		}		if($array[NUTR_END_DATE] != "") {			$qry .= $and.NUTR_END_DATE." = '".$array[NUTR_END_DATE]."'".RET;			$and = "AND".RET;		}	$result = mysql_query($qry);		if($result) {			while ($row = mysql_fetch_array($result)) {				$record = $row;				break;//end after first record			}			if(count($record[0]) == 0) {				return array();			} else {				$this->setnutr_id($record[NUTR_ID]);				$this->setnutr_dish_id($record[NUTR_DISH_ID]);				$this->setnutr_total_cal($record[NUTR_TOTAL_CAL]);				$this->setnutr_cal_from_fat($record[NUTR_CAL_FROM_FAT]);				$this->setnutr_total_fat($record[NUTR_TOTAL_FAT]);				$this->setnutr_saturated_fat($record[NUTR_SATURATED_FAT]);				$this->setnutr_trans_fat($record[NUTR_TRANS_FAT]);				$this->setnutr_cholestrol($record[NUTR_CHOLESTROL]);				$this->setnutr_sodium($record[NUTR_SODIUM]);				$this->setnutr_total_carbohydrate($record[NUTR_TOTAL_CARBOHYDRATE]);				$this->setnutr_sugar($record[NUTR_SUGAR]);				$this->setnutr_dietary_fiber($record[NUTR_DIETARY_FIBER]);				$this->setnutr_protein($record[NUTR_PROTEIN]);				$this->setnutr_start_date($record[NUTR_START_DATE]);				$this->setnutr_end_date($record[NUTR_END_DATE]);				$this->settbl_nutrition_active_date($record[TBL_NUTRITION_ACTIVE_DATE]);				$this->settbl_nutrition_deactive_date($record[TBL_NUTRITION_DEACTIVE_DATE]);				return true;			}		}	}	public static function readArray($array = array(),&$result_found=0,$isArray=1) {		global $tbl_nutrition_active_condition;		$qry = "SELECT *".RET."FROM ".TBL_NUTRITION.RET;		$and = "WHERE".RET;		if($array[NUTR_ID] != "") {			$qry .= $and.NUTR_ID." = '".$array[NUTR_ID]."'".RET;			$and = "AND".RET;		}		if($array[NUTR_DISH_ID] != "") {			$qry .= $and.NUTR_DISH_ID." = '".$array[NUTR_DISH_ID]."'".RET;			$and = "AND".RET;		}		if($array[NUTR_TOTAL_CAL] != "") {			$qry .= $and.NUTR_TOTAL_CAL." = '".$array[NUTR_TOTAL_CAL]."'".RET;			$and = "AND".RET;		}		if($array[NUTR_CAL_FROM_FAT] != "") {			$qry .= $and.NUTR_CAL_FROM_FAT." = '".$array[NUTR_CAL_FROM_FAT]."'".RET;			$and = "AND".RET;		}		if($array[NUTR_TOTAL_FAT] != "") {			$qry .= $and.NUTR_TOTAL_FAT." = '".$array[NUTR_TOTAL_FAT]."'".RET;			$and = "AND".RET;		}		if($array[NUTR_SATURATED_FAT] != "") {			$qry .= $and.NUTR_SATURATED_FAT." = '".$array[NUTR_SATURATED_FAT]."'".RET;			$and = "AND".RET;		}		if($array[NUTR_TRANS_FAT] != "") {			$qry .= $and.NUTR_TRANS_FAT." = '".$array[NUTR_TRANS_FAT]."'".RET;			$and = "AND".RET;		}		if($array[NUTR_CHOLESTROL] != "") {			$qry .= $and.NUTR_CHOLESTROL." = '".$array[NUTR_CHOLESTROL]."'".RET;			$and = "AND".RET;		}		if($array[NUTR_SODIUM] != "") {			$qry .= $and.NUTR_SODIUM." = '".$array[NUTR_SODIUM]."'".RET;			$and = "AND".RET;		}		if($array[NUTR_TOTAL_CARBOHYDRATE] != "") {			$qry .= $and.NUTR_TOTAL_CARBOHYDRATE." = '".$array[NUTR_TOTAL_CARBOHYDRATE]."'".RET;			$and = "AND".RET;		}		if($array[NUTR_SUGAR] != "") {			$qry .= $and.NUTR_SUGAR." = '".$array[NUTR_SUGAR]."'".RET;			$and = "AND".RET;		}		if($array[NUTR_DIETARY_FIBER] != "") {			$qry .= $and.NUTR_DIETARY_FIBER." = '".$array[NUTR_DIETARY_FIBER]."'".RET;			$and = "AND".RET;		}		if($array[NUTR_PROTEIN] != "") {			$qry .= $and.NUTR_PROTEIN." = '".$array[NUTR_PROTEIN]."'".RET;			$and = "AND".RET;		}		if($array[NUTR_START_DATE] != "") {			$qry .= $and.NUTR_START_DATE." = '".$array[NUTR_START_DATE]."'".RET;			$and = "AND".RET;		}		if($array[NUTR_END_DATE] != "") {			$qry .= $and.NUTR_END_DATE." = '".$array[NUTR_END_DATE]."'".RET;			$and = "AND".RET;		}		if(is_gt_zero_num($array["isActive"])) {			$qry .= $and.$tbl_nutrition_active_condition;;			$and = "AND".RET;		}		if(is_not_empty($array[SORT_ON]) && is_not_empty($array[SORT_BY])) {		$qry .=" ORDER BY ".$array[SORT_ON]." ".$array[SORT_BY];		}		if(is_not_empty($array[OFFSET_TITLE]) && is_not_empty($array[LIMIT_TITLE])) {			$qry_with_limit  = $qry." LIMIT ".$array[OFFSET_TITLE].",".$array[LIMIT_TITLE];		}else{			$qry_with_limit  = $qry;		}		$result = mysql_query ($qry_with_limit);		$r1 = mysql_query($qry);		if($r1){			$result_found = mysql_num_rows($r1);		}		$class_objects = array();		if($result) {			while ($record = mysql_fetch_assoc($result)) {				$isActive= 0;				//..check deactive date is not set or 0				if((is_not_empty($record[TBL_NUTRITION_DEACTIVE_DATE])==false) || (is_gt_zero_num(strtotime($record[TBL_NUTRITION_DEACTIVE_DATE]))== false)){					$isActive = 1; 				}else{					//..check the deactive date is greater than todays date					if(strtotime($record[TBL_NUTRITION_DEACTIVE_DATE]) > strtotime(date(DATE_FORMAT))){						$isActive = 1;					}				}				if($isArray){					$class_object = array();					$class_object["nutr_id"]=$record[NUTR_ID];					$class_object["nutr_dish_id"]=$record[NUTR_DISH_ID];					$class_object["nutr_total_cal"]=$record[NUTR_TOTAL_CAL];					$class_object["nutr_cal_from_fat"]=$record[NUTR_CAL_FROM_FAT];					$class_object["nutr_total_fat"]=$record[NUTR_TOTAL_FAT];					$class_object["nutr_saturated_fat"]=$record[NUTR_SATURATED_FAT];					$class_object["nutr_trans_fat"]=$record[NUTR_TRANS_FAT];					$class_object["nutr_cholestrol"]=$record[NUTR_CHOLESTROL];					$class_object["nutr_sodium"]=$record[NUTR_SODIUM];					$class_object["nutr_total_carbohydrate"]=$record[NUTR_TOTAL_CARBOHYDRATE];					$class_object["nutr_sugar"]=$record[NUTR_SUGAR];					$class_object["nutr_dietary_fiber"]=$record[NUTR_DIETARY_FIBER];					$class_object["nutr_protein"]=$record[NUTR_PROTEIN];					$class_object["nutr_start_date"]=$record[NUTR_START_DATE];					$class_object["nutr_end_date"]=$record[NUTR_END_DATE];					$class_object["isActive"]=$isActive;				}else{					$class_object = new tbl_nutrition();					$class_object->setnutr_id($record[NUTR_ID]);					$class_object->setnutr_dish_id($record[NUTR_DISH_ID]);					$class_object->setnutr_total_cal($record[NUTR_TOTAL_CAL]);					$class_object->setnutr_cal_from_fat($record[NUTR_CAL_FROM_FAT]);					$class_object->setnutr_total_fat($record[NUTR_TOTAL_FAT]);					$class_object->setnutr_saturated_fat($record[NUTR_SATURATED_FAT]);					$class_object->setnutr_trans_fat($record[NUTR_TRANS_FAT]);					$class_object->setnutr_cholestrol($record[NUTR_CHOLESTROL]);					$class_object->setnutr_sodium($record[NUTR_SODIUM]);					$class_object->setnutr_total_carbohydrate($record[NUTR_TOTAL_CARBOHYDRATE]);					$class_object->setnutr_sugar($record[NUTR_SUGAR]);					$class_object->setnutr_dietary_fiber($record[NUTR_DIETARY_FIBER]);					$class_object->setnutr_protein($record[NUTR_PROTEIN]);					$class_object->setnutr_start_date($record[NUTR_START_DATE]);					$class_object->setnutr_end_date($record[NUTR_END_DATE]);				}				$class_objects[$record[NUTR_ID]] = $class_object;			}		}		return $class_objects;	}//..End readArray	public function insert() {		if($this->getnutr_id() != '') {			$qry  = "UPDATE ".TBL_NUTRITION.RET."SET".RET."			".NUTR_ID." = '".$this->getnutr_id()."',".RET."			".NUTR_DISH_ID." = '".$this->getnutr_dish_id()."',".RET."			".NUTR_TOTAL_CAL." = '".$this->getnutr_total_cal()."',".RET."			".NUTR_CAL_FROM_FAT." = '".$this->getnutr_cal_from_fat()."',".RET."			".NUTR_TOTAL_FAT." = '".$this->getnutr_total_fat()."',".RET."			".NUTR_SATURATED_FAT." = '".$this->getnutr_saturated_fat()."',".RET."			".NUTR_TRANS_FAT." = '".$this->getnutr_trans_fat()."',".RET."			".NUTR_CHOLESTROL." = '".$this->getnutr_cholestrol()."',".RET."			".NUTR_SODIUM." = '".$this->getnutr_sodium()."',".RET."			".NUTR_TOTAL_CARBOHYDRATE." = '".$this->getnutr_total_carbohydrate()."',".RET."			".NUTR_SUGAR." = '".$this->getnutr_sugar()."',".RET."			".NUTR_DIETARY_FIBER." = '".$this->getnutr_dietary_fiber()."',".RET."			".NUTR_PROTEIN." = '".$this->getnutr_protein()."',".RET."			".NUTR_START_DATE." = '".$this->getnutr_start_date()."',".RET."			".NUTR_END_DATE." = '".$this->getnutr_end_date()."'".RET.			"WHERE ".NUTR_ID." = ".$this->getnutr_id().RET;			mysql_query($qry);		} else {			$qry  = "INSERT INTO ".TBL_NUTRITION." (".RET.			"".NUTR_DISH_ID.", ".NUTR_TOTAL_CAL.", ".NUTR_CAL_FROM_FAT.", ".NUTR_TOTAL_FAT.", ".NUTR_SATURATED_FAT.", ".NUTR_TRANS_FAT.", ".NUTR_CHOLESTROL.", ".NUTR_SODIUM.", ".NUTR_TOTAL_CARBOHYDRATE.", ".NUTR_SUGAR.", ".NUTR_DIETARY_FIBER.", ".NUTR_PROTEIN.", ".NUTR_START_DATE.", ".NUTR_END_DATE.RET.				") VALUES (".RET.			"'".$this->getnutr_dish_id()."',".RET.			"'".$this->getnutr_total_cal()."',".RET.			"'".$this->getnutr_cal_from_fat()."',".RET.			"'".$this->getnutr_total_fat()."',".RET.			"'".$this->getnutr_saturated_fat()."',".RET.			"'".$this->getnutr_trans_fat()."',".RET.			"'".$this->getnutr_cholestrol()."',".RET.			"'".$this->getnutr_sodium()."',".RET.			"'".$this->getnutr_total_carbohydrate()."',".RET.			"'".$this->getnutr_sugar()."',".RET.			"'".$this->getnutr_dietary_fiber()."',".RET.			"'".$this->getnutr_protein()."',".RET.			"'".$this->getnutr_start_date()."',".RET.			"'".$this->getnutr_end_date()."'".RET.			")".RET;			$res = mysql_query($qry);			$this->setnutr_id(mysql_insert_id());		}	}//..End Insert	public static function delete($array = array()) {		$qry = "DELETE".RET."FROM ".TBL_NUTRITION.RET;		$and = "WHERE".RET;		if($array[NUTR_ID] != "") {			$qry .= $and.NUTR_ID." = '".$array[NUTR_ID]."'".RET;			$and = "AND".RET;		}		if($array[NUTR_DISH_ID] != "") {			$qry .= $and.NUTR_DISH_ID." = '".$array[NUTR_DISH_ID]."'".RET;			$and = "AND".RET;		}		if($array[NUTR_TOTAL_CAL] != "") {			$qry .= $and.NUTR_TOTAL_CAL." = '".$array[NUTR_TOTAL_CAL]."'".RET;			$and = "AND".RET;		}		if($array[NUTR_CAL_FROM_FAT] != "") {			$qry .= $and.NUTR_CAL_FROM_FAT." = '".$array[NUTR_CAL_FROM_FAT]."'".RET;			$and = "AND".RET;		}		if($array[NUTR_TOTAL_FAT] != "") {			$qry .= $and.NUTR_TOTAL_FAT." = '".$array[NUTR_TOTAL_FAT]."'".RET;			$and = "AND".RET;		}		if($array[NUTR_SATURATED_FAT] != "") {			$qry .= $and.NUTR_SATURATED_FAT." = '".$array[NUTR_SATURATED_FAT]."'".RET;			$and = "AND".RET;		}		if($array[NUTR_TRANS_FAT] != "") {			$qry .= $and.NUTR_TRANS_FAT." = '".$array[NUTR_TRANS_FAT]."'".RET;			$and = "AND".RET;		}		if($array[NUTR_CHOLESTROL] != "") {			$qry .= $and.NUTR_CHOLESTROL." = '".$array[NUTR_CHOLESTROL]."'".RET;			$and = "AND".RET;		}		if($array[NUTR_SODIUM] != "") {			$qry .= $and.NUTR_SODIUM." = '".$array[NUTR_SODIUM]."'".RET;			$and = "AND".RET;		}		if($array[NUTR_TOTAL_CARBOHYDRATE] != "") {			$qry .= $and.NUTR_TOTAL_CARBOHYDRATE." = '".$array[NUTR_TOTAL_CARBOHYDRATE]."'".RET;			$and = "AND".RET;		}		if($array[NUTR_SUGAR] != "") {			$qry .= $and.NUTR_SUGAR." = '".$array[NUTR_SUGAR]."'".RET;			$and = "AND".RET;		}		if($array[NUTR_DIETARY_FIBER] != "") {			$qry .= $and.NUTR_DIETARY_FIBER." = '".$array[NUTR_DIETARY_FIBER]."'".RET;			$and = "AND".RET;		}		if($array[NUTR_PROTEIN] != "") {			$qry .= $and.NUTR_PROTEIN." = '".$array[NUTR_PROTEIN]."'".RET;			$and = "AND".RET;		}		if($array[NUTR_START_DATE] != "") {			$qry .= $and.NUTR_START_DATE." = '".$array[NUTR_START_DATE]."'".RET;			$and = "AND".RET;		}		if($array[NUTR_END_DATE] != "") {			$qry .= $and.NUTR_END_DATE." = '".$array[NUTR_END_DATE]."'".RET;			$and = "AND".RET;		}		$res = mysql_query($qry);		if($res){			return OPERATION_SUCCESS;		};		return OPERATION_FAIL;	}//..End Delete	public function isAlreadyThere($nutr_dish_id ,$nutr_total_cal ,$nutr_cal_from_fat ,$nutr_total_fat ,$nutr_saturated_fat ,$nutr_trans_fat ,$nutr_cholestrol ,$nutr_sodium ,$nutr_total_carbohydrate ,$nutr_sugar ,$nutr_dietary_fiber ,$nutr_protein ,$nutr_start_date ,$nutr_end_date) {		$unique_arr = array();			//$unique_arr[NUTR_ID]=$nutr_id;			$unique_arr[NUTR_DISH_ID]=$nutr_dish_id;			//$unique_arr[NUTR_TOTAL_CAL]=$nutr_total_cal;			//$unique_arr[NUTR_CAL_FROM_FAT]=$nutr_cal_from_fat;			//$unique_arr[NUTR_TOTAL_FAT]=$nutr_total_fat;			//$unique_arr[NUTR_SATURATED_FAT]=$nutr_saturated_fat;			//$unique_arr[NUTR_TRANS_FAT]=$nutr_trans_fat;			//$unique_arr[NUTR_CHOLESTROL]=$nutr_cholestrol;			//$unique_arr[NUTR_SODIUM]=$nutr_sodium;			//$unique_arr[NUTR_TOTAL_CARBOHYDRATE]=$nutr_total_carbohydrate;			//$unique_arr[NUTR_SUGAR]=$nutr_sugar;			//$unique_arr[NUTR_DIETARY_FIBER]=$nutr_dietary_fiber;			//$unique_arr[NUTR_PROTEIN]=$nutr_protein;			//$unique_arr[NUTR_START_DATE]=$nutr_start_date;			//$unique_arr[NUTR_END_DATE]=$nutr_end_date;		if(is_not_empty($unique_arr)){			return $this->readObject($unique_arr);		}		return false;	}//..isAlreadyThere	public function create($nutr_dish_id ,$nutr_total_cal ,$nutr_cal_from_fat ,$nutr_total_fat ,$nutr_saturated_fat ,$nutr_trans_fat ,$nutr_cholestrol ,$nutr_sodium ,$nutr_total_carbohydrate ,$nutr_sugar ,$nutr_dietary_fiber ,$nutr_protein ,$nutr_start_date ,$nutr_end_date) {		if(is_not_empty($nutr_dish_id)){			if($this->isAlreadyThere($nutr_dish_id ,$nutr_total_cal ,$nutr_cal_from_fat ,$nutr_total_fat ,$nutr_saturated_fat ,$nutr_trans_fat ,$nutr_cholestrol ,$nutr_sodium ,$nutr_total_carbohydrate ,$nutr_sugar ,$nutr_dietary_fiber ,$nutr_protein ,$nutr_start_date ,$nutr_end_date)){				return OPERATION_DUPLICATE;			}else{				$this->setnutr_id("");				$this->setnutr_dish_id($nutr_dish_id);				$this->setnutr_total_cal($nutr_total_cal);				$this->setnutr_cal_from_fat($nutr_cal_from_fat);				$this->setnutr_total_fat($nutr_total_fat);				$this->setnutr_saturated_fat($nutr_saturated_fat);				$this->setnutr_trans_fat($nutr_trans_fat);				$this->setnutr_cholestrol($nutr_cholestrol);				$this->setnutr_sodium($nutr_sodium);				$this->setnutr_total_carbohydrate($nutr_total_carbohydrate);				$this->setnutr_sugar($nutr_sugar);				$this->setnutr_dietary_fiber($nutr_dietary_fiber);				$this->setnutr_protein($nutr_protein);				$this->setnutr_start_date(date(DATE_FORMAT));				$this->insert();				return $this->getnutr_id();			}		}		return OPERATION_FAIL;	}//..create	public function update($nutr_id, $nutr_dish_id, $nutr_total_cal, $nutr_cal_from_fat, $nutr_total_fat, $nutr_saturated_fat, $nutr_trans_fat, $nutr_cholestrol, $nutr_sodium, $nutr_total_carbohydrate, $nutr_sugar, $nutr_dietary_fiber, $nutr_protein, $nutr_start_date, $nutr_end_date) {		if(is_gt_zero_num($nutr_id)){			if ($this->readObject(array(NUTR_ID=>$nutr_id))){				$this->setnutr_dish_id($nutr_dish_id);				$this->setnutr_total_cal($nutr_total_cal);				$this->setnutr_cal_from_fat($nutr_cal_from_fat);				$this->setnutr_total_fat($nutr_total_fat);				$this->setnutr_saturated_fat($nutr_saturated_fat);				$this->setnutr_trans_fat($nutr_trans_fat);				$this->setnutr_cholestrol($nutr_cholestrol);				$this->setnutr_sodium($nutr_sodium);				$this->setnutr_total_carbohydrate($nutr_total_carbohydrate);				$this->setnutr_sugar($nutr_sugar);				$this->setnutr_dietary_fiber($nutr_dietary_fiber);				$this->setnutr_protein($nutr_protein);				$this->insert();				return OPERATION_SUCCESS;			}		}		return OPERATION_FAIL;	}//..update	public function activate($nutr_id){		if(is_gt_zero_num($nutr_id)){			if ($this->readObject(array(NUTR_ID=>$nutr_id))){				$qry  = "UPDATE ".TBL_NUTRITION.RET."SET".RET."			".TBL_NUTRITION_DEACTIVE_DATE." = '".date(EMPTY_DATE_FORMAT)."' WHERE ".NUTR_ID."={$nutr_id}";				$res = mysql_query($qry);				if($res){					return 1;				}			}		}		return 0;	}//..end activate	public function deactivate($nutr_id){		if(is_gt_zero_num($nutr_id)){			if ($this->readObject(array(NUTR_ID=>$nutr_id))){				$qry  = "UPDATE ".TBL_NUTRITION.RET."SET".RET."			".TBL_NUTRITION_DEACTIVE_DATE." = '".date(DATE_FORMAT)."' WHERE ".NUTR_ID."={$nutr_id}";				$res = mysql_query($qry);				if($res){					return 1;				}			}		}		return 0;	}//..end deactivate	public static function GetInfo($nutr_id,$nutr_dish_id=0) {		$info = array();		$filter_arr=array();		if(is_gt_zero_num($nutr_id)){			$filter_arr[NUTR_ID]=$nutr_id;		}		if(is_gt_zero_num($nutr_dish_id)){			$filter_arr[NUTR_DISH_ID]=$nutr_dish_id;		}				if(is_not_empty($filter_arr)){			$obj_tbl_nutrition = new tbl_nutrition();			if($obj_tbl_nutrition->readObject($filter_arr)){				$info["nutr_id"]=$obj_tbl_nutrition->getnutr_id();				$info["nutr_dish_id"]=$obj_tbl_nutrition->getnutr_dish_id();				$info["nutr_total_cal"]=$obj_tbl_nutrition->getnutr_total_cal();				$info["nutr_cal_from_fat"]=$obj_tbl_nutrition->getnutr_cal_from_fat();				$info["nutr_total_fat"]=$obj_tbl_nutrition->getnutr_total_fat();				$info["nutr_saturated_fat"]=$obj_tbl_nutrition->getnutr_saturated_fat();				$info["nutr_trans_fat"]=$obj_tbl_nutrition->getnutr_trans_fat();				$info["nutr_cholestrol"]=$obj_tbl_nutrition->getnutr_cholestrol();				$info["nutr_sodium"]=$obj_tbl_nutrition->getnutr_sodium();				$info["nutr_total_carbohydrate"]=$obj_tbl_nutrition->getnutr_total_carbohydrate();				$info["nutr_sugar"]=$obj_tbl_nutrition->getnutr_sugar();				$info["nutr_dietary_fiber"]=$obj_tbl_nutrition->getnutr_dietary_fiber();				$info["nutr_protein"]=$obj_tbl_nutrition->getnutr_protein();				$info["nutr_start_date"]=$obj_tbl_nutrition->getnutr_start_date();				$info["nutr_end_date"]=$obj_tbl_nutrition->getnutr_end_date();				$info["isActive"] = 0;				//..check deactive date is not set or 0				if((is_not_empty($obj_tbl_nutrition->gettbl_nutrition_deactive_date())==false)  || (is_gt_zero_num(strtotime($obj_tbl_nutrition->gettbl_nutrition_deactive_date()))== false)){					$info["isActive"] = 1;				}else{					//..check the deactive date is greater than todays date					if(strtotime($obj_tbl_nutrition->gettbl_nutrition_deactive_date()) > strtotime(date(DATE_FORMAT))){						$info["isActive"] = 1;					}				}			}		unset($obj_tbl_nutrition);		return $info;		}	}//..End GetInfo	public static function GetFields($data){		global $tbl_nutrition_active_condition;		$arr = array();		if(is_not_empty($data)){			$qry ="SELECT ".$data['key_field'].",".$data['value_field']." FROM ".TBL_NUTRITION."";			if(is_gt_zero_num($data['isActive'])){				$qry .= " WHERE ".$tbl_nutrition_active_condition;			}			$res = mysql_query($qry); 			if($res){				while($row=mysql_fetch_assoc($res)){					$arr[$row[$data['key_field']]] = $row[$data['value_field']];				}			}		}		return $arr;	}//.. End of GetFields}//..End tbl_nutrition?>