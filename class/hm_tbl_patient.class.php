<?php/**********************************************************************hm_tbl_patient.class.phpGenerated by STRUCTY 2012.12.06 10:42:54.Copyright 2011 Structy, Frdric Aebi. All rights reserved.**********************************************************************/define("HM_TBL_PATIENT", "hm_tbl_patient"); class hm_tbl_patient {	private $pt_id;	private $pt_member_id;	private $pt_lname;	private $pt_fname;	private $pt_DOB;	private $pt_zip;	private $pt_phone;	private $pt_ss_no;	public function setpt_id($pArg="0") {$this->pt_id=$pArg;}	public function setpt_member_id($pArg="0") {$this->pt_member_id=$pArg;}	public function setpt_lname($pArg="0") {$this->pt_lname=$pArg;}	public function setpt_fname($pArg="0") {$this->pt_fname=$pArg;}	public function setpt_DOB($pArg="0") {$this->pt_DOB=$pArg;}	public function setpt_zip($pArg="0") {$this->pt_zip=$pArg;}	public function setpt_phone($pArg="0") {$this->pt_phone=$pArg;}	public function setpt_ss_no($pArg="0") {$this->pt_ss_no=$pArg;}	public function getpt_id() {return $this->pt_id;}	public function getpt_member_id() {return $this->pt_member_id;}	public function getpt_lname() {return $this->pt_lname;}	public function getpt_fname() {return $this->pt_fname;}	public function getpt_DOB() {return $this->pt_DOB;}	public function getpt_zip() {return $this->pt_zip;}	public function getpt_phone() {return $this->pt_phone;}	public function getpt_ss_no() {return $this->pt_ss_no;}	public function readObject($array = array()) {		$qry = "SELECT *".RET."FROM ".HM_TBL_PATIENT.RET;		$and = "WHERE".RET;		if($array['pt_id'] != "") {			$qry .= $and."pt_id = '".$array['pt_id']."'".RET;			$and = "AND".RET;		}		if($array['pt_member_id'] != "") {			$qry .= $and."pt_member_id = '".$array['pt_member_id']."'".RET;			$and = "AND".RET;		}		if($array['pt_lname'] != "") {			$qry .= $and."pt_lname = '".$array['pt_lname']."'".RET;			$and = "AND".RET;		}		if($array['pt_fname'] != "") {			$qry .= $and."pt_fname = '".$array['pt_fname']."'".RET;			$and = "AND".RET;		}		if($array['pt_DOB'] != "") {			$qry .= $and."pt_DOB = '".$array['pt_DOB']."'".RET;			$and = "AND".RET;		}		if($array['pt_zip'] != "") {			$qry .= $and."pt_zip = '".$array['pt_zip']."'".RET;			$and = "AND".RET;		}		if($array['pt_phone'] != "") {			$qry .= $and."pt_phone = '".$array['pt_phone']."'".RET;			$and = "AND".RET;		}		if($array['pt_ss_no'] != "") {			$qry .= $and."pt_ss_no = '".$array['pt_ss_no']."'".RET;			$and = "AND".RET;		}		 		 $result = mysql_query($qry);		if($result){            while ($row = mysql_fetch_array($result)) {			     $record = $row;				 break;//end after first record			}            if(count($record[0]) == 0) {			    return array();			} else {			$this->setpt_id($record['pt_id']);			$this->setpt_member_id($record['pt_member_id']);			$this->setpt_lname($record['pt_lname']);			$this->setpt_fname($record['pt_fname']);			$this->setpt_DOB($record['pt_DOB']);			$this->setpt_zip($record['pt_zip']);			$this->setpt_phone($record['pt_phone']);			$this->setpt_ss_no($record['pt_ss_no']);			return true;			}		}	}	public static function readArray($array = array()) {		$qry = "SELECT *".RET."FROM ".HM_TBL_PATIENT.RET;		$and = "WHERE".RET;		if($array['pt_id'] != "") {			$qry .= $and."pt_id = '".$array['pt_id']."'".RET;			$and = "AND".RET;		}		if($array['pt_member_id'] != "") {			$qry .= $and."pt_member_id = '".$array['pt_member_id']."'".RET;			$and = "AND".RET;		}		if($array['pt_lname'] != "") {			$qry .= $and."pt_lname = '".$array['pt_lname']."'".RET;			$and = "AND".RET;		}		if($array['pt_fname'] != "") {			$qry .= $and."pt_fname = '".$array['pt_fname']."'".RET;			$and = "AND".RET;		}		if($array['pt_DOB'] != "") {			$qry .= $and."pt_DOB = '".$array['pt_DOB']."'".RET;			$and = "AND".RET;		}		if($array['pt_zip'] != "") {			$qry .= $and."pt_zip = '".$array['pt_zip']."'".RET;			$and = "AND".RET;		}		if($array['pt_phone'] != "") {			$qry .= $and."pt_phone = '".$array['pt_phone']."'".RET;			$and = "AND".RET;		}		if($array['pt_ss_no'] != "") {			$qry .= $and."pt_ss_no = '".$array['pt_ss_no']."'".RET;			$and = "AND".RET;		}		$recordset = mysql_query($qry);		$class_objects = array();		if(is_array($recordset) == true) {			while(list($i, $record) = each($recordset)) {				$class_object = new hm_tbl_patient();				$class_object->setpt_id($record['pt_id']);				$class_object->setpt_member_id($record['pt_member_id']);				$class_object->setpt_lname($record['pt_lname']);				$class_object->setpt_fname($record['pt_fname']);				$class_object->setpt_DOB($record['pt_DOB']);				$class_object->setpt_zip($record['pt_zip']);				$class_object->setpt_phone($record['pt_phone']);				$class_object->setpt_ss_no($record['pt_ss_no']);				$class_objects[$class_object->getpt_id()] = $class_object;			}		}		return $class_objects;	}	public function insert() {		if($this->getpt_id() != '') {			$qry  = "UPDATE ".HM_TBL_PATIENT.RET."SET".RET.			"pt_id = '".$this->getpt_id()."',".RET.			"pt_member_id = '".$this->getpt_member_id()."',".RET.			"pt_lname = '".$this->getpt_lname()."',".RET.			"pt_fname = '".$this->getpt_fname()."',".RET.			"pt_DOB = '".$this->getpt_DOB()."',".RET.			"pt_zip = '".$this->getpt_zip()."',".RET.			"pt_phone = '".$this->getpt_phone()."',".RET.			"pt_ss_no = '".$this->getpt_ss_no()."'".RET.			"WHERE pt_id = ".$this->getpt_id().RET;			mysql_query($qry);		} else {			$qry  = "INSERT INTO ".HM_TBL_PATIENT." (".RET.			"pt_member_id, pt_lname, pt_fname, pt_DOB, pt_zip, pt_phone, pt_ss_no".RET.				") VALUES (".RET.			"'".$this->getpt_member_id()."',".RET.			"'".$this->getpt_lname()."',".RET.			"'".$this->getpt_fname()."',".RET.			"'".$this->getpt_DOB()."',".RET.			"'".$this->getpt_zip()."',".RET.			"'".$this->getpt_phone()."',".RET.			"'".$this->getpt_ss_no()."'".RET.			")".RET; 			$res = mysql_query($qry);						$this->setpt_id(mysql_insert_id());		}	}	public static function delete($array = array()) {		$qry = "DELETE".RET."FROM ".HM_TBL_PATIENT.RET;		$and = "WHERE".RET;		if($array['pt_id'] != "") {			$qry .= $and."pt_id = '".$array['pt_id']."'".RET;			$and = "AND".RET;		}		if($array['pt_member_id'] != "") {			$qry .= $and."pt_member_id = '".$array['pt_member_id']."'".RET;			$and = "AND".RET;		}		if($array['pt_lname'] != "") {			$qry .= $and."pt_lname = '".$array['pt_lname']."'".RET;			$and = "AND".RET;		}		if($array['pt_fname'] != "") {			$qry .= $and."pt_fname = '".$array['pt_fname']."'".RET;			$and = "AND".RET;		}		if($array['pt_DOB'] != "") {			$qry .= $and."pt_DOB = '".$array['pt_DOB']."'".RET;			$and = "AND".RET;		}		if($array['pt_zip'] != "") {			$qry .= $and."pt_zip = '".$array['pt_zip']."'".RET;			$and = "AND".RET;		}		if($array['pt_phone'] != "") {			$qry .= $and."pt_phone = '".$array['pt_phone']."'".RET;			$and = "AND".RET;		}		if($array['pt_ss_no'] != "") {			$qry .= $and."pt_ss_no = '".$array['pt_ss_no']."'".RET;			$and = "AND".RET;		}		mysql_query($qry);	}	 	public function create($member_id, $lname, $fname, $DOB, $zip="", $phone="", $ss_no=""){ 	 if (is_gt_zero_num($member_id) && is_not_empty($lname) && is_not_empty($fname) && is_not_empty($DOB)){ 	 	if($this->isAlreadyThere($member_id)){				return -1;   			}else{ 				$this->setpt_id("");				$this->setpt_member_id($member_id);				$this->setpt_fname($fname);				$this->setpt_lname($lname);				$this->setpt_DOB($DOB);				$this->setpt_zip($zip);				$this->setpt_phone($phone);				$this->setpt_ss_no($ss_no);				$this->insert();				return $this->getpt_id();			}	 }else{	 	return 0;	 }			} 		public function isAlreadyThere($member_id){          	return $this->readObject(array("pt_member_id"=>$member_id));  	}		public function GetInfo($member_id=0, $id=0){		$arr = array();		$info = array();	 		if(is_gt_zero_num($member_id)){			 $arr['pt_member_id'] = $member_id;				}		if(is_gt_zero_num($id)){			 $arr['pt_id'] = $id;				}		if(is_not_empty($arr)){		$this->readObject($arr); 			if(is_gt_zero_num($this->getpt_id())){				$info['patient_id']= $this->getpt_id();				$info['member_id']= $this->getpt_member_id();				$info['first_name']= $this->getpt_fname();				$info['last_name']= $this->getpt_lname();				$info['DOB']= $this->getpt_DOB();				$info['zip']= $this->getpt_zip();				$info['phone']= $this->getpt_phone();				$info['ss_no']= $this->getpt_ss_no(); 			}		}		 		return $info;	}	}?>