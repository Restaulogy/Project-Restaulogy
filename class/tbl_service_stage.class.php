<?php/**********************************************************************tbl_service_stage.class.phpGenerated by STRUCTY 2013.03.27 08:34:53.Copyright 2011 Structy, Frdric Aebi. All rights reserved.**********************************************************************/define("TBL_SERVICE_STAGE", "tbl_service_stage"); define('SRVC_STG_ID', 'srvc_stg_id'); define('SRVC_STG_SERVICE_ID', 'srvc_stg_service_id'); define('SRVC_STG_NAME', 'srvc_stg_name'); define('SRVC_STG_DESCRIPTION', 'srvc_stg_description'); define('SRVC_STG_THRESH_HOLD_TIME', 'srvc_stg_thresh_hold_time'); define('SRVC_STG_SORT_ORDER', 'srvc_stg_sort_order'); define('SRVC_STG_START_TIME', 'srvc_stg_start_time'); define('SRVC_STG_END_TIME', 'srvc_stg_end_time'); define("TBL_SERVICE_STAGE_ACTIVE_DATE", "srvc_stg_start_time");define("TBL_SERVICE_STAGE_DEACTIVE_DATE", "srvc_stg_end_time");$tbl_service_stage_active_condition= " (".TBL_SERVICE_STAGE_DEACTIVE_DATE." is NULL OR ".TBL_SERVICE_STAGE_DEACTIVE_DATE." = 0 OR DATE(".TBL_SERVICE_STAGE_DEACTIVE_DATE.") > CURDATE( )) ";class tbl_service_stage {	private $srvc_stg_id;	private $srvc_stg_service_id;	private $srvc_stg_name;	private $srvc_stg_description;	private $srvc_stg_thresh_hold_time;	private $srvc_stg_sort_order;	private $srvc_stg_start_time;	private $srvc_stg_end_time;	private $tbl_service_stage_active_date;	private $tbl_service_stage_deactive_date;	public function setsrvc_stg_id($pArg="0") {$this->srvc_stg_id=$pArg;}	public function setsrvc_stg_service_id($pArg="0") {$this->srvc_stg_service_id=$pArg;}	public function setsrvc_stg_name($pArg="0") {$this->srvc_stg_name=$pArg;}	public function setsrvc_stg_description($pArg="0") {$this->srvc_stg_description=$pArg;}	public function setsrvc_stg_thresh_hold_time($pArg="0") {$this->srvc_stg_thresh_hold_time=$pArg;}	public function setsrvc_stg_sort_order($pArg="0") {$this->srvc_stg_sort_order=$pArg;}	public function setsrvc_stg_start_time($pArg="0") {$this->srvc_stg_start_time=$pArg;}	public function setsrvc_stg_end_time($pArg="0") {$this->srvc_stg_end_time=$pArg;}	public function settbl_service_stage_active_date($pArg="0") {$this->tbl_service_stage_active_date=$pArg;}	public function settbl_service_stage_deactive_date($pArg="0") {$this->tbl_service_stage_deactive_date=$pArg;}	public function getsrvc_stg_id() {return $this->srvc_stg_id;}	public function getsrvc_stg_service_id() {return $this->srvc_stg_service_id;}	public function getsrvc_stg_name() {return $this->srvc_stg_name;}	public function getsrvc_stg_description() {return $this->srvc_stg_description;}	public function getsrvc_stg_thresh_hold_time() {return $this->srvc_stg_thresh_hold_time;}	public function getsrvc_stg_sort_order() {return $this->srvc_stg_sort_order;}	public function getsrvc_stg_start_time() {return $this->srvc_stg_start_time;}	public function getsrvc_stg_end_time() {return $this->srvc_stg_end_time;}	public function gettbl_service_stage_active_date($pArg="0") {return $this->tbl_service_stage_active_date;}	public function gettbl_service_stage_deactive_date($pArg="0") {return $this->tbl_service_stage_deactive_date;}	public function readObject($array = array()) {		$qry = "SELECT *".RET."FROM ".TBL_SERVICE_STAGE.RET;		$and = "WHERE".RET;		if($array[SRVC_STG_ID] != "") {			$qry .= $and.SRVC_STG_ID." = '".$array[SRVC_STG_ID]."'".RET;			$and = "AND".RET;		}		if($array[SRVC_STG_SERVICE_ID] != "") {			$qry .= $and.SRVC_STG_SERVICE_ID." = '".$array[SRVC_STG_SERVICE_ID]."'".RET;			$and = "AND".RET;		}		if($array[SRVC_STG_NAME] != "") {			$qry .= $and.SRVC_STG_NAME." = '".$array[SRVC_STG_NAME]."'".RET;			$and = "AND".RET;		}		if($array[SRVC_STG_DESCRIPTION] != "") {			$qry .= $and.SRVC_STG_DESCRIPTION." = '".$array[SRVC_STG_DESCRIPTION]."'".RET;			$and = "AND".RET;		}		if($array[SRVC_STG_THRESH_HOLD_TIME] != "") {			$qry .= $and.SRVC_STG_THRESH_HOLD_TIME." = '".$array[SRVC_STG_THRESH_HOLD_TIME]."'".RET;			$and = "AND".RET;		}		if($array[SRVC_STG_SORT_ORDER] != "") {			$qry .= $and.SRVC_STG_SORT_ORDER." = '".$array[SRVC_STG_SORT_ORDER]."'".RET;			$and = "AND".RET;		}		if($array[SRVC_STG_START_TIME] != "") {			$qry .= $and.SRVC_STG_START_TIME." = '".$array[SRVC_STG_START_TIME]."'".RET;			$and = "AND".RET;		}		if($array[SRVC_STG_END_TIME] != "") {			$qry .= $and.SRVC_STG_END_TIME." = '".$array[SRVC_STG_END_TIME]."'".RET;			$and = "AND".RET;		} 	$result = mysql_query($qry);		if($result) {			while ($row = mysql_fetch_array($result)) {				$record = $row;				break;//end after first record			}			if(count($record[0]) == 0) {				return array();			} else {				$this->setsrvc_stg_id($record[SRVC_STG_ID]);				$this->setsrvc_stg_service_id($record[SRVC_STG_SERVICE_ID]);				$this->setsrvc_stg_name($record[SRVC_STG_NAME]);				$this->setsrvc_stg_description($record[SRVC_STG_DESCRIPTION]);				$this->setsrvc_stg_thresh_hold_time($record[SRVC_STG_THRESH_HOLD_TIME]);				$this->setsrvc_stg_sort_order($record[SRVC_STG_SORT_ORDER]);				$this->setsrvc_stg_start_time($record[SRVC_STG_START_TIME]);				$this->setsrvc_stg_end_time($record[SRVC_STG_END_TIME]);				$this->settbl_service_stage_active_date($record[TBL_SERVICE_STAGE_ACTIVE_DATE]);				$this->settbl_service_stage_deactive_date($record[TBL_SERVICE_STAGE_DEACTIVE_DATE]);				return true;			}		}	}	public static function readArray($array = array(),&$result_found=0,$isArray=1) {		global $tbl_service_stage_active_condition;		$qry = "SELECT *".RET."FROM ".TBL_SERVICE_STAGE.RET;		$and = "WHERE".RET;		if($array[SRVC_STG_ID] != "") {			$qry .= $and.SRVC_STG_ID." = '".$array[SRVC_STG_ID]."'".RET;			$and = "AND".RET;		}		if($array[SRVC_STG_SERVICE_ID] != "") {			$qry .= $and.SRVC_STG_SERVICE_ID." = '".$array[SRVC_STG_SERVICE_ID]."'".RET;			$and = "AND".RET;		}		if($array[SRVC_STG_NAME] != "") {			$qry .= $and.SRVC_STG_NAME." = '".$array[SRVC_STG_NAME]."'".RET;			$and = "AND".RET;		}		if($array[SRVC_STG_DESCRIPTION] != "") {			$qry .= $and.SRVC_STG_DESCRIPTION." = '".$array[SRVC_STG_DESCRIPTION]."'".RET;			$and = "AND".RET;		}		if($array[SRVC_STG_THRESH_HOLD_TIME] != "") {			$qry .= $and.SRVC_STG_THRESH_HOLD_TIME." = '".$array[SRVC_STG_THRESH_HOLD_TIME]."'".RET;			$and = "AND".RET;		}		if($array[SRVC_STG_SORT_ORDER] != "") {			$qry .= $and.SRVC_STG_SORT_ORDER." = '".$array[SRVC_STG_SORT_ORDER]."'".RET;			$and = "AND".RET;		}		if($array[SRVC_STG_START_TIME] != "") {			$qry .= $and.SRVC_STG_START_TIME." = '".$array[SRVC_STG_START_TIME]."'".RET;			$and = "AND".RET;		}		if($array[SRVC_STG_END_TIME] != "") {			$qry .= $and.SRVC_STG_END_TIME." = '".$array[SRVC_STG_END_TIME]."'".RET;			$and = "AND".RET;		}		if(is_gt_zero_num($array["isActive"])) {			$qry .= $and.$tbl_service_stage_active_condition;;			$and = "AND".RET;		}		if(is_not_empty($array[OFFSET_TITLE]) && is_not_empty($array[LIMIT_TITLE])) {			$qry_with_limit  = $qry." LIMIT ".$array[OFFSET_TITLE].",".$array[LIMIT_TITLE];		}else{			$qry_with_limit  = $qry;		}		$result = mysql_query ($qry_with_limit);		$r1 = mysql_query($qry);		$result_found = mysql_num_rows($r1);		$class_objects = array();		if($result) {			while ($record = mysql_fetch_assoc($result)) {				$isActive= 0;				//..check deactive date is not set or 0				if((is_not_empty($record[TBL_SERVICE_STAGE_DEACTIVE_DATE])==false) || (is_gt_zero_num(strtotime($record[TBL_SERVICE_STAGE_DEACTIVE_DATE]))== false)){					$isActive = 1; 				}else{					//..check the deactive date is greater than todays date					if(strtotime($record[TBL_SERVICE_STAGE_DEACTIVE_DATE]) > strtotime(date(DATE_FORMAT))){						$isActive = 1;					}				}				if($isArray){					$class_object = array();					$class_object["srvc_stg_id"]=$record[SRVC_STG_ID];					$class_object["srvc_stg_service_id"]=$record[SRVC_STG_SERVICE_ID];					$class_object["srvc_stg_name"]=$record[SRVC_STG_NAME];					$class_object["srvc_stg_description"]=$record[SRVC_STG_DESCRIPTION];					$class_object["srvc_stg_thresh_hold_time"]=$record[SRVC_STG_THRESH_HOLD_TIME];					$class_object["srvc_stg_sort_order"]=$record[SRVC_STG_SORT_ORDER];					$class_object["srvc_stg_start_time"]=$record[SRVC_STG_START_TIME];					$class_object["srvc_stg_end_time"]=$record[SRVC_STG_END_TIME];					$class_object["isActive"]=$isActive;				}else{					$class_object = new tbl_service_stage();					$class_object->setsrvc_stg_id($record[SRVC_STG_ID]);					$class_object->setsrvc_stg_service_id($record[SRVC_STG_SERVICE_ID]);					$class_object->setsrvc_stg_name($record[SRVC_STG_NAME]);					$class_object->setsrvc_stg_description($record[SRVC_STG_DESCRIPTION]);					$class_object->setsrvc_stg_thresh_hold_time($record[SRVC_STG_THRESH_HOLD_TIME]);					$class_object->setsrvc_stg_sort_order($record[SRVC_STG_SORT_ORDER]);					$class_object->setsrvc_stg_start_time($record[SRVC_STG_START_TIME]);					$class_object->setsrvc_stg_end_time($record[SRVC_STG_END_TIME]);				}				$class_objects[$record[SRVC_STG_ID]] = $class_object;			}		}		return $class_objects;	}//..End readArray	public function insert() {		if($this->getsrvc_stg_id() != '') {			$qry  = "UPDATE ".TBL_SERVICE_STAGE.RET."SET".RET."			".SRVC_STG_ID." = '".$this->getsrvc_stg_id()."',".RET."			".SRVC_STG_SERVICE_ID." = '".$this->getsrvc_stg_service_id()."',".RET."			".SRVC_STG_NAME." = '".$this->getsrvc_stg_name()."',".RET."			".SRVC_STG_DESCRIPTION." = '".$this->getsrvc_stg_description()."',".RET."			".SRVC_STG_THRESH_HOLD_TIME." = '".$this->getsrvc_stg_thresh_hold_time()."',".RET."			".SRVC_STG_SORT_ORDER." = '".$this->getsrvc_stg_sort_order()."',".RET."			".SRVC_STG_START_TIME." = '".$this->getsrvc_stg_start_time()."',".RET."			".SRVC_STG_END_TIME." = '".$this->getsrvc_stg_end_time()."'".RET.			"WHERE ".SRVC_STG_ID." = ".$this->getsrvc_stg_id().RET;			mysql_query($qry);		} else {			$qry  = "INSERT INTO ".TBL_SERVICE_STAGE." (".RET.			"".SRVC_STG_SERVICE_ID.", ".SRVC_STG_NAME.", ".SRVC_STG_DESCRIPTION.", ".SRVC_STG_THRESH_HOLD_TIME.", ".SRVC_STG_SORT_ORDER.", ".SRVC_STG_START_TIME.", ".SRVC_STG_END_TIME.RET.				") VALUES (".RET.			"'".$this->getsrvc_stg_service_id()."',".RET.			"'".$this->getsrvc_stg_name()."',".RET.			"'".$this->getsrvc_stg_description()."',".RET.			"'".$this->getsrvc_stg_thresh_hold_time()."',".RET.			"'".$this->getsrvc_stg_sort_order()."',".RET.			"'".$this->getsrvc_stg_start_time()."',".RET.			"'".$this->getsrvc_stg_end_time()."'".RET.			")".RET;			$res = mysql_query($qry);			$this->setsrvc_stg_id(mysql_insert_id());		}	}//..End Insert	public static function delete($array = array()) {		$qry = "DELETE".RET."FROM ".TBL_SERVICE_STAGE.RET;		$and = "WHERE".RET;		if($array[SRVC_STG_ID] != "") {			$qry .= $and.SRVC_STG_ID." IN (".$array[SRVC_STG_ID].")".RET;			$and = "AND".RET;		}		if($array[SRVC_STG_SERVICE_ID] != "") {			$qry .= $and.SRVC_STG_SERVICE_ID." IN (".$array[SRVC_STG_SERVICE_ID].")".RET;			$and = "AND".RET;		}		if($array[SRVC_STG_NAME] != "") {			$qry .= $and.SRVC_STG_NAME." = '".$array[SRVC_STG_NAME]."'".RET;			$and = "AND".RET;		}		if($array[SRVC_STG_DESCRIPTION] != "") {			$qry .= $and.SRVC_STG_DESCRIPTION." = '".$array[SRVC_STG_DESCRIPTION]."'".RET;			$and = "AND".RET;		}		if($array[SRVC_STG_THRESH_HOLD_TIME] != "") {			$qry .= $and.SRVC_STG_THRESH_HOLD_TIME." = '".$array[SRVC_STG_THRESH_HOLD_TIME]."'".RET;			$and = "AND".RET;		}		if($array[SRVC_STG_SORT_ORDER] != "") {			$qry .= $and.SRVC_STG_SORT_ORDER." = '".$array[SRVC_STG_SORT_ORDER]."'".RET;			$and = "AND".RET;		}		if($array[SRVC_STG_START_TIME] != "") {			$qry .= $and.SRVC_STG_START_TIME." = '".$array[SRVC_STG_START_TIME]."'".RET;			$and = "AND".RET;		}		if($array[SRVC_STG_END_TIME] != "") {			$qry .= $and.SRVC_STG_END_TIME." = '".$array[SRVC_STG_END_TIME]."'".RET;			$and = "AND".RET;		}		$res = mysql_query($qry);		if($res){			return OPERATION_SUCCESS;		};		return OPERATION_FAIL;	}//..End Delete	public function isAlreadyThere($srvc_stg_service_id ,$srvc_stg_name ,$srvc_stg_description ,$srvc_stg_thresh_hold_time ,$srvc_stg_sort_order ,$srvc_stg_start_time ,$srvc_stg_end_time) {		$unique_arr = array();			//$unique_arr[SRVC_STG_ID]=$srvc_stg_id;			//$unique_arr[SRVC_STG_SERVICE_ID]=$srvc_stg_service_id;			//$unique_arr[SRVC_STG_NAME]=$srvc_stg_name;			//$unique_arr[SRVC_STG_DESCRIPTION]=$srvc_stg_description;			//$unique_arr[SRVC_STG_THRESH_HOLD_TIME]=$srvc_stg_thresh_hold_time;			//$unique_arr[SRVC_STG_SORT_ORDER]=$srvc_stg_sort_order;			//$unique_arr[SRVC_STG_START_TIME]=$srvc_stg_start_time;			//$unique_arr[SRVC_STG_END_TIME]=$srvc_stg_end_time;		if(is_not_empty($unique_arr)){			return $this->readObject($unique_arr);		}		return false;	}//..isAlreadyThere	public function create($srvc_stg_service_id ,$srvc_stg_name ,$srvc_stg_description ,$srvc_stg_thresh_hold_time ,$srvc_stg_sort_order ,$srvc_stg_start_time ,$srvc_stg_end_time) {		if(is_not_empty($srvc_stg_service_id)){			if($this->isAlreadyThere($srvc_stg_service_id ,$srvc_stg_name ,$srvc_stg_description ,$srvc_stg_thresh_hold_time ,$srvc_stg_sort_order ,$srvc_stg_start_time ,$srvc_stg_end_time)){				return OPERATION_DUPLICATE;			}else{				$this->setsrvc_stg_id("");				$this->setsrvc_stg_service_id($srvc_stg_service_id);				$this->setsrvc_stg_name($srvc_stg_name);				$this->setsrvc_stg_description($srvc_stg_description);				$this->setsrvc_stg_thresh_hold_time($srvc_stg_thresh_hold_time);				$this->setsrvc_stg_sort_order($srvc_stg_sort_order);				$this->setsrvc_stg_start_time(DATE(DATE_FORMAT));				$this->setsrvc_stg_end_time($srvc_stg_end_time);				$this->insert();				return $this->getsrvc_stg_id();			}		}		return OPERATION_FAIL;	}//..create	public function update($srvc_stg_id, $srvc_stg_service_id, $srvc_stg_name, $srvc_stg_description, $srvc_stg_thresh_hold_time, $srvc_stg_sort_order, $srvc_stg_start_time, $srvc_stg_end_time) {		if(is_gt_zero_num($srvc_stg_id)){			if ($this->readObject(array(SRVC_STG_ID=>$srvc_stg_id))){				$this->setsrvc_stg_service_id($srvc_stg_service_id);				$this->setsrvc_stg_name($srvc_stg_name);				$this->setsrvc_stg_description($srvc_stg_description);				$this->setsrvc_stg_thresh_hold_time($srvc_stg_thresh_hold_time);				$this->setsrvc_stg_sort_order($srvc_stg_sort_order);				//$this->setsrvc_stg_start_time($srvc_stg_start_time);				//$this->setsrvc_stg_end_time($srvc_stg_end_time);				$this->insert();				return OPERATION_SUCCESS;			}		}		return OPERATION_FAIL;	}//..update	public function activate($srvc_stg_id){		if(is_gt_zero_num($srvc_stg_id)){			if ($this->readObject(array(SRVC_STG_ID=>$srvc_stg_id))){				$qry  = "UPDATE ".TBL_SERVICE_STAGE.RET."SET".RET."			".TBL_SERVICE_STAGE_DEACTIVE_DATE." = '".date(EMPTY_DATE_FORMAT)."' WHERE ".SRVC_STG_ID."={$srvc_stg_id}";				$res = mysql_query($qry);				if($res){					return 1;				}			}		}		return 0;	}//..end activate	public function deactivate($srvc_stg_id){		if(is_gt_zero_num($srvc_stg_id)){			if ($this->readObject(array(SRVC_STG_ID=>$srvc_stg_id))){				$qry  = "UPDATE ".TBL_SERVICE_STAGE.RET."SET".RET."			".TBL_SERVICE_STAGE_DEACTIVE_DATE." = '".date(DATE_FORMAT)."' WHERE ".SRVC_STG_ID."={$srvc_stg_id}";				$res = mysql_query($qry);				if($res){					return 1;				}			}		}		return 0;	}//..end deactivate	public static function GetInfo($srvc_stg_id) {		$info = array();		$obj = new tbl_service_stage();		if($srvc_stg_id != ""){			if($obj->readObject(array("srvc_stg_id"=>$srvc_stg_id))){				$info["srvc_stg_id"]=$obj->getsrvc_stg_id();				$info["srvc_stg_service_id"]=$obj->getsrvc_stg_service_id();				$info["srvc_stg_name"]=$obj->getsrvc_stg_name();				$info["srvc_stg_description"]=$obj->getsrvc_stg_description();				$info["srvc_stg_thresh_hold_time"]=$obj->getsrvc_stg_thresh_hold_time();				$info["srvc_stg_sort_order"]=$obj->getsrvc_stg_sort_order();				$info["srvc_stg_start_time"]=$obj->getsrvc_stg_start_time();				$info["srvc_stg_end_time"]=$obj->getsrvc_stg_end_time();				$info["isActive"] = 0;				//..check deactive date is not set or 0				if((is_not_empty($obj->gettbl_service_stage_deactive_date())==false)  || (is_gt_zero_num(strtotime($obj->gettbl_service_stage_deactive_date()))== false)){					$info["isActive"] = 1;				}else{					//..check the deactive date is greater than todays date					if(strtotime($obj->gettbl_service_stage_deactive_date()) >= strtotime(date(DATE_FORMAT))){						$info["isActive"] = 1;					}				}			}		unset($obj);		return $info;		}	}//..End GetInfo	public static function GetFields($data){		global $tbl_service_stage_active_condition;		$arr = array();		if(is_not_empty($data)){			$qry ="SELECT ".$data['key_field'].",".$data['value_field']." FROM ".TBL_DINING_TABLE."";			if(is_gt_zero_num($data['isActive'])){				$qry .= " WHERE ".$tbl_service_stage_active_condition;                }			$res = mysql_query($qry); 			if($res){				while($row=mysql_fetch_assoc($res)){					$arr[$row[$data['key_field']]] = $row[$data['value_field']];				}			}	   }       return $arr;	}//.. End of GetFields		public static function GetAllServieceStage($srvc_stg_service_id){		global $tbl_service_stage_active_condition;		$info = array();		if($srvc_stg_service_id != ""){			$qry = "SELECT * FROM ".TBL_SERVICE_STAGE." WHERE ".SRVC_STG_SERVICE_ID." = {$srvc_stg_service_id} AND ".$tbl_service_stage_active_condition;			 			 $res = mysql_query($qry);			if($res){				while($row = mysql_fetch_assoc($res)){				  if($row){ 					 	$info[] = $row; 				  } 				}			}		}		return $info;	}		public function GetDefaultStage($srvc_stg_service_id) {		$info = 0;		if($srvc_stg_service_id != ""){			if($this->readObject(array(SRVC_STG_SERVICE_ID=>$srvc_stg_service_id,SRVC_STG_SORT_ORDER=>1))){                 return $this->getsrvc_stg_id();		  }		}		return $info;	}//.. End of GetDefaultStage		public static function GetLastServiceStage($srvc_stg_service_id){ 		$info = 0;		global $tbl_service_stage_active_condition; 		if($srvc_stg_service_id != ""){			 $qry = "SELECT MAX(".SRVC_STG_ID.") FROM ".TBL_SERVICE_STAGE." WHERE ".SRVC_STG_SERVICE_ID." = ".$srvc_stg_service_id." AND".$tbl_service_stage_active_condition; 			 $res = mysql_query($qry); 			 if($res)			 	return mysql_result($res,0);		}		return $info;	}	 		private static function getDfltStages(){		$_array = array();		$_array[0] = array('title'=>'Initiated','desc'=>'Service Initiated by customer/Auto','time'=>0,'order'=>1);		$_array[1] = array('title'=>'Picked','desc'=>'Service Picked By the Waiter','time'=>120,'order'=>2);		$_array[2] = array('title'=>'Completed','desc'=>'Service Completed By the Waiter','time'=>300,'order'=>3);		return $_array;	} 		public static function createDefaultStages($service_id){		if(is_gt_zero_num($service_id)){		$stages_array = self::getDfltStages(); 		if(is_not_empty($stages_array)){			$values = array();			foreach($stages_array as  $stage){				$values[] = '('.$service_id.', \''.$stage['title'].'\', \''.$stage['desc'].'\', '.$stage['time'].', '.$stage['order'].', \''.date(DATE_FORMAT).'\')';			} 			if(is_not_empty($values)){			$res =	mysql_query('INSERT INTO `'.TBL_SERVICE_STAGE.'` (`srvc_stg_service_id`, `srvc_stg_name`, `srvc_stg_description`, `srvc_stg_thresh_hold_time`, `srvc_stg_sort_order`, `srvc_stg_start_time`) VALUES'.biz_implode(',', $values)); 				if($res){					return OPERATION_SUCCESS;				} 			} 		}	}	 	return OPERATION_FAIL;	 	}}//..End tbl_service_stage?>