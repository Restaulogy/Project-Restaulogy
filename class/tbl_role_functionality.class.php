<?php/**********************************************************************tbl_role_functionality.class.phpGenerated by STRUCTY 2013.07.22 10:56:23.Copyright 2011 Structy, Frédéric Aebi. All rights reserved.**********************************************************************/define("TBL_ROLE_FUNCTIONALITY", "tbl_role_functionality"); define('RL_FN_ID', 'rl_fn_id'); define('RL_FN_ROLE', 'rl_fn_role'); define('RL_FN_TABLESTS_LIVE', 'rl_fn_tablests_live'); define('RL_FN_TABLESTS_EXPIRED', 'rl_fn_tablests_expired'); define('RL_FN_REQUEST_LIVE', 'rl_fn_request_live'); define('RL_FN_REQUEST_EXPIRED', 'rl_fn_request_expired'); define('RL_FN_ORDER_LIVE', 'rl_fn_order_live'); define('RL_FN_ORDER_EXPIRED', 'rl_fn_order_expired'); define('RL_FN_PROMOTION_LIVE', 'rl_fn_promotion_live'); define('RL_FN_PROMOTION_EXPIRED', 'rl_fn_promotion_expired'); define('RL_FN_PAYMENT_PROCESS', 'rl_fn_payment_process'); define('RL_FN_START_DATE', 'rl_fn_start_date'); define('RL_FN_END_DATE', 'rl_fn_end_date'); define("TBL_ROLE_FUNCTIONALITY_ACTIVE_DATE",  RL_FN_START_DATE);define("TBL_ROLE_FUNCTIONALITY_DEACTIVE_DATE",  RL_FN_END_DATE);$tbl_role_functionality_active_condition= " (".TBL_ROLE_FUNCTIONALITY_DEACTIVE_DATE." is NULL OR ".TBL_ROLE_FUNCTIONALITY_DEACTIVE_DATE." = 0 OR ".TBL_ROLE_FUNCTIONALITY_DEACTIVE_DATE." > CURDATE( )) ";class tbl_role_functionality {	private $rl_fn_id;	private $rl_fn_role;	private $rl_fn_tablests_live;	private $rl_fn_tablests_expired;	private $rl_fn_request_live;	private $rl_fn_request_expired;	private $rl_fn_order_live;	private $rl_fn_order_expired;	private $rl_fn_promotion_live;	private $rl_fn_promotion_expired;	private $rl_fn_payment_process;	private $rl_fn_start_date;	private $rl_fn_end_date;	private $member_role_name;		private $tbl_role_functionality_active_date;	private $tbl_role_functionality_deactive_date;	public function setrl_fn_id($pArg="0") {$this->rl_fn_id=$pArg;}	public function setrl_fn_role($pArg="0") {$this->rl_fn_role=$pArg;}	public function setrl_fn_tablests_live($pArg="0") {$this->rl_fn_tablests_live=$pArg;}	public function setrl_fn_tablests_expired($pArg="0") {$this->rl_fn_tablests_expired=$pArg;}	public function setrl_fn_request_live($pArg="0") {$this->rl_fn_request_live=$pArg;}	public function setrl_fn_request_expired($pArg="0") {$this->rl_fn_request_expired=$pArg;}	public function setrl_fn_order_live($pArg="0") {$this->rl_fn_order_live=$pArg;}	public function setrl_fn_order_expired($pArg="0") {$this->rl_fn_order_expired=$pArg;}	public function setrl_fn_promotion_live($pArg="0") {$this->rl_fn_promotion_live=$pArg;}	public function setrl_fn_promotion_expired($pArg="0") {$this->rl_fn_promotion_expired=$pArg;}	public function setrl_fn_payment_process($pArg="0") {$this->rl_fn_payment_process=$pArg;}	public function setrl_fn_start_date($pArg="0") {$this->rl_fn_start_date=$pArg;}	public function setrl_fn_end_date($pArg="0") {$this->rl_fn_end_date=$pArg;}	public function settbl_role_functionality_active_date($pArg="0") {$this->tbl_role_functionality_active_date=$pArg;}	public function settbl_role_functionality_deactive_date($pArg="0") {$this->tbl_role_functionality_deactive_date=$pArg;}	public function getrl_fn_id() {return $this->rl_fn_id;}	public function getrl_fn_role() {return $this->rl_fn_role;}	public function getrl_fn_tablests_live() {return $this->rl_fn_tablests_live;}	public function getrl_fn_tablests_expired() {return $this->rl_fn_tablests_expired;}	public function getrl_fn_request_live() {return $this->rl_fn_request_live;}	public function getrl_fn_request_expired() {return $this->rl_fn_request_expired;}	public function getrl_fn_order_live() {return $this->rl_fn_order_live;}	public function getrl_fn_order_expired() {return $this->rl_fn_order_expired;}	public function getrl_fn_promotion_live() {return $this->rl_fn_promotion_live;}	public function getrl_fn_promotion_expired() {return $this->rl_fn_promotion_expired;}	public function getrl_fn_payment_process() {return $this->rl_fn_payment_process;}	public function getrl_fn_start_date() {return $this->rl_fn_start_date;}	public function getrl_fn_end_date() {return $this->rl_fn_end_date;}	public function gettbl_role_functionality_active_date($pArg="0") {return $this->tbl_role_functionality_active_date;}	public function gettbl_role_functionality_deactive_date($pArg="0") {return $this->tbl_role_functionality_deactive_date;}	public function readObject($array = array()) {		//$qry = "SELECT *".RET."FROM ".TBL_ROLE_FUNCTIONALITY.RET;		$qry= "SELECT f.*,r.`member_role_name` FROM `tbl_role_functionality` f INNER JOIN  `member_role` r ON f.`rl_fn_role`=r.`member_role_id`".RET;		$and = "WHERE".RET;		if($array[RL_FN_ID] != "") {			$qry .= $and.RL_FN_ID." = '".$array[RL_FN_ID]."'".RET;			$and = "AND".RET;		}		if($array[RL_FN_ROLE] != "") {			$qry .= $and.RL_FN_ROLE." = '".$array[RL_FN_ROLE]."'".RET;			$and = "AND".RET;		}		if($array[RL_FN_TABLESTS_LIVE] != "") {			$qry .= $and.RL_FN_TABLESTS_LIVE." = '".$array[RL_FN_TABLESTS_LIVE]."'".RET;			$and = "AND".RET;		}		if($array[RL_FN_TABLESTS_EXPIRED] != "") {			$qry .= $and.RL_FN_TABLESTS_EXPIRED." = '".$array[RL_FN_TABLESTS_EXPIRED]."'".RET;			$and = "AND".RET;		}		if($array[RL_FN_REQUEST_LIVE] != "") {			$qry .= $and.RL_FN_REQUEST_LIVE." = '".$array[RL_FN_REQUEST_LIVE]."'".RET;			$and = "AND".RET;		}		if($array[RL_FN_REQUEST_EXPIRED] != "") {			$qry .= $and.RL_FN_REQUEST_EXPIRED." = '".$array[RL_FN_REQUEST_EXPIRED]."'".RET;			$and = "AND".RET;		}		if($array[RL_FN_ORDER_LIVE] != "") {			$qry .= $and.RL_FN_ORDER_LIVE." = '".$array[RL_FN_ORDER_LIVE]."'".RET;			$and = "AND".RET;		}		if($array[RL_FN_ORDER_EXPIRED] != "") {			$qry .= $and.RL_FN_ORDER_EXPIRED." = '".$array[RL_FN_ORDER_EXPIRED]."'".RET;			$and = "AND".RET;		}		if($array[RL_FN_PROMOTION_LIVE] != "") {			$qry .= $and.RL_FN_PROMOTION_LIVE." = '".$array[RL_FN_PROMOTION_LIVE]."'".RET;			$and = "AND".RET;		}		if($array[RL_FN_PROMOTION_EXPIRED] != "") {			$qry .= $and.RL_FN_PROMOTION_EXPIRED." = '".$array[RL_FN_PROMOTION_EXPIRED]."'".RET;			$and = "AND".RET;		}		if($array[RL_FN_PAYMENT_PROCESS] != "") {			$qry .= $and.RL_FN_PAYMENT_PROCESS." = '".$array[RL_FN_PAYMENT_PROCESS]."'".RET;			$and = "AND".RET;		}		if($array[RL_FN_START_DATE] != "") {			$qry .= $and.RL_FN_START_DATE." = '".$array[RL_FN_START_DATE]."'".RET;			$and = "AND".RET;		}		if($array[RL_FN_END_DATE] != "") {			$qry .= $and.RL_FN_END_DATE." = '".$array[RL_FN_END_DATE]."'".RET;			$and = "AND".RET;		}		$result = mysql_query($qry);		if($result) {			while ($row = mysql_fetch_array($result)) {				$record = $row;				break;//end after first record			}			if(count($record[0]) == 0) {				return array();			}else{				$this->setrl_fn_id($record[RL_FN_ID]);				$this->setrl_fn_role($record[RL_FN_ROLE]);				$this->setrl_fn_tablests_live($record[RL_FN_TABLESTS_LIVE]);				$this->setrl_fn_tablests_expired($record[RL_FN_TABLESTS_EXPIRED]);				$this->setrl_fn_request_live($record[RL_FN_REQUEST_LIVE]);				$this->setrl_fn_request_expired($record[RL_FN_REQUEST_EXPIRED]);				$this->setrl_fn_order_live($record[RL_FN_ORDER_LIVE]);				$this->setrl_fn_order_expired($record[RL_FN_ORDER_EXPIRED]);				$this->setrl_fn_promotion_live($record[RL_FN_PROMOTION_LIVE]);				$this->setrl_fn_promotion_expired($record[RL_FN_PROMOTION_EXPIRED]);				$this->setrl_fn_payment_process($record[RL_FN_PAYMENT_PROCESS]);				$this->setrl_fn_start_date($record[RL_FN_START_DATE]);				$this->setrl_fn_end_date($record[RL_FN_END_DATE]);				$this->settbl_role_functionality_active_date($record[TBL_ROLE_FUNCTIONALITY_ACTIVE_DATE]);				$this->settbl_role_functionality_deactive_date($record[TBL_ROLE_FUNCTIONALITY_DEACTIVE_DATE]);				$this->member_role_name=$record['member_role_name'];				return true;			}		}	}	public static function readArray($array = array(),&$result_found=0,$isArray=1) {		global $tbl_role_functionality_active_condition;		//$qry = "SELECT *".RET."FROM ".TBL_ROLE_FUNCTIONALITY.RET;				$qry= "SELECT f.*,r.`member_role_name` FROM `tbl_role_functionality` f INNER JOIN  `member_role` r ON f.`rl_fn_role`=r.`member_role_id`".RET;		$and = "WHERE".RET;		if($array[RL_FN_ID] != "") {			$qry .= $and.RL_FN_ID." = '".$array[RL_FN_ID]."'".RET;			$and = "AND".RET;		}		if($array[RL_FN_ROLE] != "") {			$qry .= $and.RL_FN_ROLE." = '".$array[RL_FN_ROLE]."'".RET;			$and = "AND".RET;		}		if($array[RL_FN_TABLESTS_LIVE] != "") {			$qry .= $and.RL_FN_TABLESTS_LIVE." = '".$array[RL_FN_TABLESTS_LIVE]."'".RET;			$and = "AND".RET;		}		if($array[RL_FN_TABLESTS_EXPIRED] != "") {			$qry .= $and.RL_FN_TABLESTS_EXPIRED." = '".$array[RL_FN_TABLESTS_EXPIRED]."'".RET;			$and = "AND".RET;		}		if($array[RL_FN_REQUEST_LIVE] != "") {			$qry .= $and.RL_FN_REQUEST_LIVE." = '".$array[RL_FN_REQUEST_LIVE]."'".RET;			$and = "AND".RET;		}		if($array[RL_FN_REQUEST_EXPIRED] != "") {			$qry .= $and.RL_FN_REQUEST_EXPIRED." = '".$array[RL_FN_REQUEST_EXPIRED]."'".RET;			$and = "AND".RET;		}		if($array[RL_FN_ORDER_LIVE] != "") {			$qry .= $and.RL_FN_ORDER_LIVE." = '".$array[RL_FN_ORDER_LIVE]."'".RET;			$and = "AND".RET;		}		if($array[RL_FN_ORDER_EXPIRED] != "") {			$qry .= $and.RL_FN_ORDER_EXPIRED." = '".$array[RL_FN_ORDER_EXPIRED]."'".RET;			$and = "AND".RET;		}		if($array[RL_FN_PROMOTION_LIVE] != "") {			$qry .= $and.RL_FN_PROMOTION_LIVE." = '".$array[RL_FN_PROMOTION_LIVE]."'".RET;			$and = "AND".RET;		}		if($array[RL_FN_PROMOTION_EXPIRED] != "") {			$qry .= $and.RL_FN_PROMOTION_EXPIRED." = '".$array[RL_FN_PROMOTION_EXPIRED]."'".RET;			$and = "AND".RET;		}		if($array[RL_FN_PAYMENT_PROCESS] != "") {			$qry .= $and.RL_FN_PAYMENT_PROCESS." = '".$array[RL_FN_PAYMENT_PROCESS]."'".RET;			$and = "AND".RET;		}		if($array[RL_FN_START_DATE] != "") {			$qry .= $and.RL_FN_START_DATE." = '".$array[RL_FN_START_DATE]."'".RET;			$and = "AND".RET;		}		if($array[RL_FN_END_DATE] != "") {			$qry .= $and.RL_FN_END_DATE." = '".$array[RL_FN_END_DATE]."'".RET;			$and = "AND".RET;		}		if(is_gt_zero_num($array["isActive"])) {			$qry .= $and.$tbl_role_functionality_active_condition;;			$and = "AND".RET;		}		if(is_not_empty($array[SORT_ON]) && is_not_empty($array[SORT_BY])) {		$qry .=" ORDER BY ".$array[SORT_ON]." ".$array[SORT_BY];		}		if(is_not_empty($array[OFFSET_TITLE]) && is_not_empty($array[LIMIT_TITLE])) {			$qry_with_limit  = $qry." LIMIT ".$array[OFFSET_TITLE].",".$array[LIMIT_TITLE];		}else{			$qry_with_limit  = $qry;		}		$result = mysql_query ($qry_with_limit);		$r1 = mysql_query($qry);		if($r1){			$result_found = mysql_num_rows($r1);		}		$class_objects = array();		if($result) {			while ($record = mysql_fetch_assoc($result)) {				$isActive= 0;				//..check deactive date is not set or 0				if((is_not_empty($record[TBL_ROLE_FUNCTIONALITY_DEACTIVE_DATE])==false) || (is_gt_zero_num(strtotime($record[TBL_ROLE_FUNCTIONALITY_DEACTIVE_DATE]))== false)){					$isActive = 1; 				}else{					//..check the deactive date is greater than todays date					if(strtotime($record[TBL_ROLE_FUNCTIONALITY_DEACTIVE_DATE]) > strtotime(date(DATE_FORMAT))){						$isActive = 1;					}				}				if($isArray){					$class_object = array();					$class_object["rl_fn_id"]=$record[RL_FN_ID];					$class_object["rl_fn_role"]=$record[RL_FN_ROLE];					$class_object["member_role_name"]=$record['member_role_name'];										$class_object["rl_fn_tablests_live"]=$record[RL_FN_TABLESTS_LIVE];					$class_object["rl_fn_tablests_expired"]=$record[RL_FN_TABLESTS_EXPIRED];					$class_object["rl_fn_request_live"]=$record[RL_FN_REQUEST_LIVE];					$class_object["rl_fn_request_expired"]=$record[RL_FN_REQUEST_EXPIRED];					$class_object["rl_fn_order_live"]=$record[RL_FN_ORDER_LIVE];					$class_object["rl_fn_order_expired"]=$record[RL_FN_ORDER_EXPIRED];					$class_object["rl_fn_promotion_live"]=$record[RL_FN_PROMOTION_LIVE];					$class_object["rl_fn_promotion_expired"]=$record[RL_FN_PROMOTION_EXPIRED];					$class_object["rl_fn_payment_process"]=$record[RL_FN_PAYMENT_PROCESS];					$class_object["rl_fn_start_date"]=$record[RL_FN_START_DATE];					$class_object["rl_fn_end_date"]=$record[RL_FN_END_DATE];					$class_object["isActive"]=$isActive;				}else{					$class_object = new tbl_role_functionality();					$class_object->setrl_fn_id($record[RL_FN_ID]);					//$class_object->setrl_fn_role($record['member_role_name']);					$class_object->setrl_fn_role($record[RL_FN_ROLE]);					$class_object->setrl_fn_tablests_live($record[RL_FN_TABLESTS_LIVE]);					$class_object->setrl_fn_tablests_expired($record[RL_FN_TABLESTS_EXPIRED]);					$class_object->setrl_fn_request_live($record[RL_FN_REQUEST_LIVE]);					$class_object->setrl_fn_request_expired($record[RL_FN_REQUEST_EXPIRED]);					$class_object->setrl_fn_order_live($record[RL_FN_ORDER_LIVE]);					$class_object->setrl_fn_order_expired($record[RL_FN_ORDER_EXPIRED]);					$class_object->setrl_fn_promotion_live($record[RL_FN_PROMOTION_LIVE]);					$class_object->setrl_fn_promotion_expired($record[RL_FN_PROMOTION_EXPIRED]);					$class_object->setrl_fn_payment_process($record[RL_FN_PAYMENT_PROCESS]);					$class_object->setrl_fn_start_date($record[RL_FN_START_DATE]);					$class_object->setrl_fn_end_date($record[RL_FN_END_DATE]);				}				$class_objects[$record[RL_FN_ID]] = $class_object;			}		}		return $class_objects;	}//..End readArray	public function insert() {		if($this->getrl_fn_id() != '') {			$qry  = "UPDATE ".TBL_ROLE_FUNCTIONALITY.RET."SET".RET."			".RL_FN_ID." = '".$this->getrl_fn_id()."',".RET."			".RL_FN_ROLE." = '".$this->getrl_fn_role()."',".RET."			".RL_FN_TABLESTS_LIVE." = '".$this->getrl_fn_tablests_live()."',".RET."			".RL_FN_TABLESTS_EXPIRED." = '".$this->getrl_fn_tablests_expired()."',".RET."			".RL_FN_REQUEST_LIVE." = '".$this->getrl_fn_request_live()."',".RET."			".RL_FN_REQUEST_EXPIRED." = '".$this->getrl_fn_request_expired()."',".RET."			".RL_FN_ORDER_LIVE." = '".$this->getrl_fn_order_live()."',".RET."			".RL_FN_ORDER_EXPIRED." = '".$this->getrl_fn_order_expired()."',".RET."			".RL_FN_PROMOTION_LIVE." = '".$this->getrl_fn_promotion_live()."',".RET."			".RL_FN_PROMOTION_EXPIRED." = '".$this->getrl_fn_promotion_expired()."',".RET."			".RL_FN_PAYMENT_PROCESS." = '".$this->getrl_fn_payment_process()."',".RET."			".RL_FN_START_DATE." = '".$this->getrl_fn_start_date()."',".RET."			".RL_FN_END_DATE." = '".$this->getrl_fn_end_date()."'".RET.			"WHERE ".RL_FN_ID." = ".$this->getrl_fn_id().RET;			mysql_query($qry);		} else {			$qry  = "INSERT INTO ".TBL_ROLE_FUNCTIONALITY." (".RET.			"".RL_FN_ROLE.", ".RL_FN_TABLESTS_LIVE.", ".RL_FN_TABLESTS_EXPIRED.", ".RL_FN_REQUEST_LIVE.", ".RL_FN_REQUEST_EXPIRED.", ".RL_FN_ORDER_LIVE.", ".RL_FN_ORDER_EXPIRED.", ".RL_FN_PROMOTION_LIVE.", ".RL_FN_PROMOTION_EXPIRED.", ".RL_FN_PAYMENT_PROCESS.", ".RL_FN_START_DATE.", ".RL_FN_END_DATE.RET.				") VALUES (".RET.			"'".$this->getrl_fn_role()."',".RET.			"'".$this->getrl_fn_tablests_live()."',".RET.			"'".$this->getrl_fn_tablests_expired()."',".RET.			"'".$this->getrl_fn_request_live()."',".RET.			"'".$this->getrl_fn_request_expired()."',".RET.			"'".$this->getrl_fn_order_live()."',".RET.			"'".$this->getrl_fn_order_expired()."',".RET.			"'".$this->getrl_fn_promotion_live()."',".RET.			"'".$this->getrl_fn_promotion_expired()."',".RET.			"'".$this->getrl_fn_payment_process()."',".RET.			"'".$this->getrl_fn_start_date()."',".RET.			"'".$this->getrl_fn_end_date()."'".RET.			")".RET;			$res = mysql_query($qry);			$this->setrl_fn_id(mysql_insert_id());		}	}//..End Insert	public static function delete($array = array()) {		$qry = "DELETE".RET."FROM ".TBL_ROLE_FUNCTIONALITY.RET;		$and = "WHERE".RET;		if($array[RL_FN_ID] != "") {			$qry .= $and.RL_FN_ID." = '".$array[RL_FN_ID]."'".RET;			$and = "AND".RET;		}		if($array[RL_FN_ROLE] != "") {			$qry .= $and.RL_FN_ROLE." = '".$array[RL_FN_ROLE]."'".RET;			$and = "AND".RET;		}		if($array[RL_FN_TABLESTS_LIVE] != "") {			$qry .= $and.RL_FN_TABLESTS_LIVE." = '".$array[RL_FN_TABLESTS_LIVE]."'".RET;			$and = "AND".RET;		}		if($array[RL_FN_TABLESTS_EXPIRED] != "") {			$qry .= $and.RL_FN_TABLESTS_EXPIRED." = '".$array[RL_FN_TABLESTS_EXPIRED]."'".RET;			$and = "AND".RET;		}		if($array[RL_FN_REQUEST_LIVE] != "") {			$qry .= $and.RL_FN_REQUEST_LIVE." = '".$array[RL_FN_REQUEST_LIVE]."'".RET;			$and = "AND".RET;		}		if($array[RL_FN_REQUEST_EXPIRED] != "") {			$qry .= $and.RL_FN_REQUEST_EXPIRED." = '".$array[RL_FN_REQUEST_EXPIRED]."'".RET;			$and = "AND".RET;		}		if($array[RL_FN_ORDER_LIVE] != "") {			$qry .= $and.RL_FN_ORDER_LIVE." = '".$array[RL_FN_ORDER_LIVE]."'".RET;			$and = "AND".RET;		}		if($array[RL_FN_ORDER_EXPIRED] != "") {			$qry .= $and.RL_FN_ORDER_EXPIRED." = '".$array[RL_FN_ORDER_EXPIRED]."'".RET;			$and = "AND".RET;		}		if($array[RL_FN_PROMOTION_LIVE] != "") {			$qry .= $and.RL_FN_PROMOTION_LIVE." = '".$array[RL_FN_PROMOTION_LIVE]."'".RET;			$and = "AND".RET;		}		if($array[RL_FN_PROMOTION_EXPIRED] != "") {			$qry .= $and.RL_FN_PROMOTION_EXPIRED." = '".$array[RL_FN_PROMOTION_EXPIRED]."'".RET;			$and = "AND".RET;		}		if($array[RL_FN_PAYMENT_PROCESS] != "") {			$qry .= $and.RL_FN_PAYMENT_PROCESS." = '".$array[RL_FN_PAYMENT_PROCESS]."'".RET;			$and = "AND".RET;		}		if($array[RL_FN_START_DATE] != "") {			$qry .= $and.RL_FN_START_DATE." = '".$array[RL_FN_START_DATE]."'".RET;			$and = "AND".RET;		}		if($array[RL_FN_END_DATE] != "") {			$qry .= $and.RL_FN_END_DATE." = '".$array[RL_FN_END_DATE]."'".RET;			$and = "AND".RET;		}		$res = mysql_query($qry);		if($res){			return OPERATION_SUCCESS;		};		return OPERATION_FAIL;	}//..End Delete	public function isAlreadyThere($rl_fn_role ,$rl_fn_tablests_live ,$rl_fn_tablests_expired ,$rl_fn_request_live ,$rl_fn_request_expired ,$rl_fn_order_live ,$rl_fn_order_expired ,$rl_fn_promotion_live ,$rl_fn_promotion_expired ,$rl_fn_payment_process ,$rl_fn_start_date ,$rl_fn_end_date) {		$unique_arr = array();			//$unique_arr[RL_FN_ID]=$rl_fn_id;			//$unique_arr[RL_FN_ROLE]=$rl_fn_role;			//$unique_arr[RL_FN_TABLESTS_LIVE]=$rl_fn_tablests_live;			//$unique_arr[RL_FN_TABLESTS_EXPIRED]=$rl_fn_tablests_expired;			//$unique_arr[RL_FN_REQUEST_LIVE]=$rl_fn_request_live;			//$unique_arr[RL_FN_REQUEST_EXPIRED]=$rl_fn_request_expired;			//$unique_arr[RL_FN_ORDER_LIVE]=$rl_fn_order_live;			//$unique_arr[RL_FN_ORDER_EXPIRED]=$rl_fn_order_expired;			//$unique_arr[RL_FN_PROMOTION_LIVE]=$rl_fn_promotion_live;			//$unique_arr[RL_FN_PROMOTION_EXPIRED]=$rl_fn_promotion_expired;			//$unique_arr[RL_FN_PAYMENT_PROCESS]=$rl_fn_payment_process;			//$unique_arr[RL_FN_START_DATE]=$rl_fn_start_date;			//$unique_arr[RL_FN_END_DATE]=$rl_fn_end_date;		if(is_not_empty($unique_arr)){			return $this->readObject($unique_arr);		}		return false;	}//..isAlreadyThere	public function create($rl_fn_role ,$rl_fn_tablests_live ,$rl_fn_tablests_expired ,$rl_fn_request_live ,$rl_fn_request_expired ,$rl_fn_order_live ,$rl_fn_order_expired ,$rl_fn_promotion_live ,$rl_fn_promotion_expired ,$rl_fn_payment_process ,$rl_fn_start_date ,$rl_fn_end_date) {		if(is_not_empty($rl_fn_role)){			if($this->isAlreadyThere($rl_fn_role ,$rl_fn_tablests_live ,$rl_fn_tablests_expired ,$rl_fn_request_live ,$rl_fn_request_expired ,$rl_fn_order_live ,$rl_fn_order_expired ,$rl_fn_promotion_live ,$rl_fn_promotion_expired ,$rl_fn_payment_process ,$rl_fn_start_date ,$rl_fn_end_date)){				return OPERATION_DUPLICATE;			}else{				$this->setrl_fn_id("");				$this->setrl_fn_role($rl_fn_role);				$this->setrl_fn_tablests_live($rl_fn_tablests_live);				$this->setrl_fn_tablests_expired($rl_fn_tablests_expired);				$this->setrl_fn_request_live($rl_fn_request_live);				$this->setrl_fn_request_expired($rl_fn_request_expired);				$this->setrl_fn_order_live($rl_fn_order_live);				$this->setrl_fn_order_expired($rl_fn_order_expired);				$this->setrl_fn_promotion_live($rl_fn_promotion_live);				$this->setrl_fn_promotion_expired($rl_fn_promotion_expired);				$this->setrl_fn_payment_process($rl_fn_payment_process);				$this->setrl_fn_start_date(date(DATE_FORMAT));				$this->insert();				return $this->getrl_fn_id();			}		}		return OPERATION_FAIL;	}//..create	public function update($rl_fn_id, $rl_fn_role, $rl_fn_tablests_live, $rl_fn_tablests_expired, $rl_fn_request_live, $rl_fn_request_expired, $rl_fn_order_live, $rl_fn_order_expired, $rl_fn_promotion_live, $rl_fn_promotion_expired, $rl_fn_payment_process, $rl_fn_start_date, $rl_fn_end_date) {		if(is_gt_zero_num($rl_fn_id)){			if ($this->readObject(array(RL_FN_ID=>$rl_fn_id))){				$this->setrl_fn_role($rl_fn_role);				$this->setrl_fn_tablests_live($rl_fn_tablests_live);				$this->setrl_fn_tablests_expired($rl_fn_tablests_expired);				$this->setrl_fn_request_live($rl_fn_request_live);				$this->setrl_fn_request_expired($rl_fn_request_expired);				$this->setrl_fn_order_live($rl_fn_order_live);				$this->setrl_fn_order_expired($rl_fn_order_expired);				$this->setrl_fn_promotion_live($rl_fn_promotion_live);				$this->setrl_fn_promotion_expired($rl_fn_promotion_expired);				$this->setrl_fn_payment_process($rl_fn_payment_process);				$this->insert();				return OPERATION_SUCCESS;			}		}		return OPERATION_FAIL;	}//..update	public function activate($rl_fn_id){		if(is_gt_zero_num($rl_fn_id)){			if ($this->readObject(array(RL_FN_ID=>$rl_fn_id))){				$qry  = "UPDATE ".TBL_ROLE_FUNCTIONALITY.RET."SET".RET."			".TBL_ROLE_FUNCTIONALITY_DEACTIVE_DATE." = '".date(EMPTY_DATE_FORMAT)."' WHERE ".RL_FN_ID."={$rl_fn_id}";				$res = mysql_query($qry);				if($res){					return 1;				}			}		}		return 0;	}//..end activate	public function deactivate($rl_fn_id){		if(is_gt_zero_num($rl_fn_id)){			if ($this->readObject(array(RL_FN_ID=>$rl_fn_id))){				$qry  = "UPDATE ".TBL_ROLE_FUNCTIONALITY.RET."SET".RET."			".TBL_ROLE_FUNCTIONALITY_DEACTIVE_DATE." = '".date(DATE_FORMAT)."' WHERE ".RL_FN_ID."={$rl_fn_id}";				$res = mysql_query($qry);				if($res){					return 1;				}			}		}		return 0;	}//..end deactivate	public static function GetInfo($rl_fn_id=0,$rl_fn_role=0) {		$arr = array();		$info = array(); 		//..fectch based on the '$rl_fn_id' or role id '$rl_fn_id'		if(is_gt_zero_num($rl_fn_id)){			 $arr['rl_fn_id'] = $rl_fn_id;				}		if(is_gt_zero_num($rl_fn_role)){			 $arr['rl_fn_role'] = $rl_fn_role;				}				if(is_not_empty($arr)){ 			$obj_tbl_role_functionality = new tbl_role_functionality();			if($obj_tbl_role_functionality->readObject($arr)){				$info["rl_fn_id"]=$obj_tbl_role_functionality->getrl_fn_id();				$info["rl_fn_role"]=$obj_tbl_role_functionality->getrl_fn_role();								$info["rl_fn_tablests_live"]=$obj_tbl_role_functionality->getrl_fn_tablests_live();				$info["rl_fn_tablests_expired"]=$obj_tbl_role_functionality->getrl_fn_tablests_expired();								$info["rl_fn_request_live"]=$obj_tbl_role_functionality->getrl_fn_request_live();				$info["rl_fn_request_expired"]=$obj_tbl_role_functionality->getrl_fn_request_expired();				$info["rl_fn_order_live"]=$obj_tbl_role_functionality->getrl_fn_order_live();				$info["rl_fn_order_expired"]=$obj_tbl_role_functionality->getrl_fn_order_expired();				$info["rl_fn_promotion_live"]=$obj_tbl_role_functionality->getrl_fn_promotion_live();				$info["rl_fn_promotion_expired"]=$obj_tbl_role_functionality->getrl_fn_promotion_expired();				$info["rl_fn_payment_process"]=$obj_tbl_role_functionality->getrl_fn_payment_process();				$info["rl_fn_start_date"]=$obj_tbl_role_functionality->getrl_fn_start_date();				$info["rl_fn_end_date"]=$obj_tbl_role_functionality->getrl_fn_end_date();				$info["member_role_name"]=$obj_tbl_role_functionality->member_role_name;				$info["isActive"] = 0;				//..check deactive date is not set or 0				if((is_not_empty($obj_tbl_role_functionality->gettbl_role_functionality_deactive_date())==false)  || (is_gt_zero_num(strtotime($obj_tbl_role_functionality->gettbl_role_functionality_deactive_date()))== false)){					$info["isActive"] = 1;				}else{					//..check the deactive date is greater than todays date					if(strtotime($obj_tbl_role_functionality->gettbl_role_functionality_deactive_date()) > strtotime(date(DATE_FORMAT))){						$info["isActive"] = 1;					}				}			}		unset($obj_tbl_role_functionality);		return $info;		}	}//..End GetInfo	public static function GetFields($data){		global $tbl_role_functionality_active_condition;		$arr = array();		if(is_not_empty($data)){			$qry ="SELECT ".$data['key_field'].",".$data['value_field']." FROM ".TBL_ROLE_FUNCTIONALITY."";			if(is_gt_zero_num($data['isActive'])){				$qry .= " WHERE ".$tbl_role_functionality_active_condition;			}			$res = mysql_query($qry); 			if($res){				while($row=mysql_fetch_assoc($res)){					$arr[$row[$data['key_field']]] = $row[$data['value_field']];				}			}		}		return $arr;	}//.. End of GetFields}//..End tbl_role_functionality?>