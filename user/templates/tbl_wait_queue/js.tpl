{literal}<script type="text/javascript">function deletetbl_wait_queue(varId){	if(varId > 0){		if(confirm("{/literal}{$_lang.tbl_wait_queue.DELETE.CONFIRM_MSG}{literal}")==true){			window.location.href="{/literal}{$page_url}{literal}?action=delete&wt_que_id="+varId;		}	}}function toggle_exp_time(que_id, resetValue){ if(resetValue > 0){  $('#edit_' + que_id).hide();  $('#view_' + que_id).show();  $('#input_' + que_id).val(resetValue).trigger('refresh'); }else{  $('#edit_' + que_id).show();  $('#view_' + que_id).hide(); } }function set_exp_time(que_id,current_value){  if(que_id > 0){  var vexp_time = $('#input_' + que_id).val();  if(isInt(vexp_time)){   if(current_value == vexp_time){       toggle_exp_time(que_id, current_value);   }else{    var info = {}; 	info['action'] = 'set_exp_time';	info['var1'] = que_id; 	info['var2'] = vexp_time;  	$.ajax({        type     : "POST",        url      : website + "/ajax/custom_functions.php" , 		data	 : info,        dataType : "json",		async	 : false,    	success  : function(response){   			if(response == 1){				window.location.reload();			}        },		error: function(objResponse){			alert(objResponse.responseText);		}     });	       }     }else{  	alert("{/literal}{$_lang.messages.validation.isInt}{literal}");    }	 }}function set_sess_est_time(isDisable){    var obj = $('#sess_est_time');   var isUpdate = 0;    	 if(isDisable){	  obj.val("");	  isUpdate = 1;	 }else{	 	if(isInt(obj.val())){	 		isUpdate = 1;	    }else{		alert("{/literal}{$_lang.messages.validation.isInt}{literal}");	}	 }	 	if(isUpdate){	 var info = {}; 		info['action'] = 'set_sess_est_time';		info['var1'] = obj.val(); 		$.ajax({	        type     : "POST",	        url      : website + "/ajax/custom_functions.php" , 			data	 : info,	        dataType : "json",			async	 : false,	    	success  : function(response){                  obj.val(response);            },			error: function(objResponse){				alert(objResponse.responseText);			} 	    });	  		 obj.trigger('refresh');  	}  }function calculate_est_time(){   var limit = 0; var party_size = $('#wt_que_party_size').val(); var table_type = $('#wt_que_table_type').val(); var que_id = $('#wt_que_id').val();   {/literal} {if $smarty.session[$smarty.const.SES_EST_TIME] gt 0} $('#wt_que_exp_time').val("{$smarty.session[$smarty.const.SES_EST_TIME]}"); {else} {literal} $('#wt_que_exp_time').val("0"); $('#lbl_wt_que_exp_time').html("0 Min").trigger('refresh'); if((table_type > 0) && (party_size > 0)){	var info = {}; 	info['action'] = 'calculate_est_time';	info['var1'] = table_type;	info['var2'] = party_size;	info['var3'] = que_id; 	$.ajax({	        type     : "POST",	        url      : website + "/ajax/custom_functions.php" , 			data	 : info,	        dataType : "json",			async	 : false,	    	success  : function(response){                  $('#wt_que_exp_time').val(response);  				 $('#lbl_wt_que_exp_time').html(response + " Min").trigger('refresh');            },			error: function(objResponse){				alert(objResponse.responseText);			}     });	}	 {/literal} {/if} {literal}	   	 $('#wt_que_exp_time').trigger('refresh');   	 }function validatetbl_wait_queue(){	$("#wt_que_id_err").html("");	$("#wt_que_customer_err").html("");	$("#wt_que_cust_ph_no_err").html("");	$("#wt_que_party_size_err").html("");	$("#wt_que_table_type_err").html("");	$("#wt_que_table_id_err").html("");	$("#wt_que_exp_time_err").html("");	$("#wt_que_is_cancelled_err").html("");	$("#wt_que_restaurant_err").html("");	$("#wt_que_by_cust_err").html("");	$("#wt_que_created_on_err").html("");	$("#wt_que_completed_on_err").html("");	var isErr = true;	if(elemById("action").value=="update"){		if(IsNonEmpty(elemById("wt_que_id").value)==false){			$("#wt_que_id_err").html("{/literal}{$_lang.tbl_wait_queue.not_empty_msg.wt_que_id}{literal}");			isErr = false;		}	}	if(IsNonEmpty(elemById("wt_que_customer").value)==false){		$("#wt_que_customer_err").html("{/literal}{$_lang.tbl_wait_queue.not_empty_msg.wt_que_customer}{literal}");		isErr = false;	}else{		if(isEmail(elemById("wt_que_customer").value)==false){			$("#wt_que_customer_err").html("{/literal}{$_lang.messages.validation.email}{literal}");			isErr = false;		}		}	if(IsNonEmpty(elemById("wt_que_cust_ph_no").value)==false){		$("#wt_que_cust_ph_no_err").html("{/literal}{$_lang.tbl_wait_queue.not_empty_msg.wt_que_cust_ph_no}{literal}");		isErr = false;	}else{		if(isPhoneNumber(elemById("wt_que_cust_ph_no").value)==false){			$("#wt_que_cust_ph_no_err").html("{/literal}{$_lang.messages.validation.isPhoneNumber}{literal}");			isErr = false;		}		}	if(IsNonEmpty(elemById("wt_que_party_size").value)==false){		$("#wt_que_party_size_err").html("{/literal}{$_lang.tbl_wait_queue.not_empty_msg.wt_que_party_size}{literal}");		isErr = false;	}	if(IsNonEmpty(elemById("wt_que_table_type").value)==false){		$("#wt_que_table_type_err").html("{/literal}{$_lang.tbl_wait_queue.not_empty_msg.wt_que_table_type}{literal}");		isErr = false;	}	/*if(IsNonEmpty(elemById("wt_que_table_id").value)==false){		$("#wt_que_table_id_err").html("{/literal}{$_lang.tbl_wait_queue.not_empty_msg.wt_que_table_id}{literal}");		isErr = false;	}*/	if(IsNonEmpty(elemById("wt_que_exp_time").value)==false){		$("#wt_que_exp_time_err").html("{/literal}{$_lang.tbl_wait_queue.not_empty_msg.wt_que_exp_time}{literal}");		isErr = false;	}else{		if(isInt(elemById("wt_que_exp_time").value)==false){			$("#wt_que_exp_time_err").html("{/literal}{$_lang.messages.validation.isInt}{literal}");			isErr = false;		}		}	/*	if(IsNonEmpty(elemById("wt_que_is_cancelled").value)==false){		$("#wt_que_is_cancelled_err").html("{/literal}{$_lang.tbl_wait_queue.not_empty_msg.wt_que_is_cancelled}{literal}");		isErr = false;	}	if(IsNonEmpty(elemById("wt_que_restaurant").value)==false){		$("#wt_que_restaurant_err").html("{/literal}{$_lang.tbl_wait_queue.not_empty_msg.wt_que_restaurant}{literal}");		isErr = false;	}	if(IsNonEmpty(elemById("wt_que_by_cust").value)==false){		$("#wt_que_by_cust_err").html("{/literal}{$_lang.tbl_wait_queue.not_empty_msg.wt_que_by_cust}{literal}");		isErr = false;	}	if(IsNonEmpty(elemById("wt_que_created_on").value)==false){		$("#wt_que_created_on_err").html("{/literal}{$_lang.tbl_wait_queue.not_empty_msg.wt_que_created_on}{literal}");		isErr = false;	}	if(IsNonEmpty(elemById("wt_que_completed_on").value)==false){		$("#wt_que_completed_on_err").html("{/literal}{$_lang.tbl_wait_queue.not_empty_msg.wt_que_completed_on}{literal}");		isErr = false;	}*/	if(isErr == false){		alert("{/literal}{$_lang.messages.revise_form}{literal}");	}	return isErr;}//..functionfunction cancelQue(que_id){   if(confirm("{/literal}{$_lang.tbl_wait_queue.CANCEL.CONFIRM_MSG}{literal}")){  	$('#popup_que_id').val(que_id);     $('#popup_is_cancelled').val('1');	$('#frmAddTable').submit();	   	//window.location.href = "{/literal}{$page_url}?action={$smarty.const.ACTION_DEACTIVATE}&wt_que_is_cancelled=1&wt_que_id={literal}" +que_id ;    }else{   }   return true;}function confirmQue(que_id,table_id){ if(que_id > 0){   if(IsNonEmpty(table_id)){   	 saveQue(que_id,table_id);   }else{   	 $('#popup_que_id').val(que_id).trigger('refresh');	 $('#popup_table_id').val(table_id).trigger('refresh');   	 $('#popupTable').popup("open");   } }else{   alert("{/literal}{$_lang.tbl_wait_queue.not_empty_msg.wt_que_id}{literal}"); }}function saveQue(que_id,table_id){  if(que_id){    }else{  	que_id = $('#popup_que_id').val();  }  if(table_id){    }else{  	table_id = $('#popup_table_id').val();  }    $('#popup_que_id').val(que_id);  $('#popup_table_id').val(table_id);  $('#popup_is_cancelled').val('0');     if(IsNonEmpty(table_id)){     $('#frmAddTable').submit();	   }else{  	alert("{/literal}{$_lang.tbl_wait_queue.not_empty_msg.wt_que_table_id}{literal}");  }}function changeAllowQueue(isAllowed){  if(isAllowed){   }else{isAllowed=0;}  var info = {}; 	info['action'] = 'changeAllowQueue';	info['var1'] = isAllowed; 	$.ajax({	        type     : "POST",	        url      : website + "/ajax/custom_functions.php" , 			data	 : info,	        dataType : "json",			async	 : false,	    	success  : function(response){                 if(response == 1){					window.location.reload();				}              },			error: function(objResponse){				alert(objResponse.responseText);			}     });		}</script>{/literal}