{include file='header.tpl'}<meta http-equiv="refresh" content="30"/><div class="wrapper"><h1>{if $isCustomer}{$_lang.tbl_wait_queue.customer_view_title}{else}{$_lang.tbl_wait_queue.listing_title}{/if}</h1>{if $error_msg}	<center>{$error_msg}</center>{/if}{if $isCustomer}{else}	{include file="tbl_wait_queue/exp_time.tpl"}{/if}{if $result_found gt 0 && $tbl_wait_queuelist}	<table class="biz_data_grid">		<tr>			<th class="{if $smarty.get.sort_on eq 'wt_que_customer'}active_{if $smarty.get.sort_by eq 'DESC'}desc{else}asc{/if}{/if}"><a href="{$page_url}?sort_on=wt_que_customer&sort_by={$new_sort}">{$_lang.tbl_wait_queue.label.wt_que_customer}</a></th>			<th class="{if $smarty.get.sort_on eq 'wt_que_cust_ph_no'}active_{if $smarty.get.sort_by eq 'DESC'}desc{else}asc{/if}{/if}"><a href="{$page_url}?sort_on=wt_que_cust_ph_no&sort_by={$new_sort}">{$_lang.tbl_wait_queue.label.wt_que_cust_ph_no}</a></th>			<th class="{if $smarty.get.sort_on eq 'wt_que_party_size'}active_{if $smarty.get.sort_by eq 'DESC'}desc{else}asc{/if}{/if}"><a href="{$page_url}?sort_on=wt_que_party_size&sort_by={$new_sort}">{$_lang.tbl_wait_queue.label.wt_que_party_size}</a></th>			<th class="{if $smarty.get.sort_on eq 'wt_que_table_type'}active_{if $smarty.get.sort_by eq 'DESC'}desc{else}asc{/if}{/if}"><a href="{$page_url}?sort_on=wt_que_table_type&sort_by={$new_sort}">{$_lang.tbl_wait_queue.label.wt_que_table_type}</a></th>			<th class="{if $smarty.get.sort_on eq 'wt_que_table_id'}active_{if $smarty.get.sort_by eq 'DESC'}desc{else}asc{/if}{/if}"><a href="{$page_url}?sort_on=wt_que_table_id&sort_by={$new_sort}">{$_lang.tbl_wait_queue.label.wt_que_table_id}</a></th>			<th>{$_lang.tbl_wait_queue.label.wt_que_cur_remain_time}</th>			<th class="{if $smarty.get.sort_on eq 'wt_que_exp_time'}active_{if $smarty.get.sort_by eq 'DESC'}desc{else}asc{/if}{/if}"><a href="{$page_url}?sort_on=wt_que_exp_time&sort_by={$new_sort}">{$_lang.tbl_wait_queue.label.wt_que_exp_time}</a></th>						<!--<th class="{if $smarty.get.sort_on eq 'wt_que_is_cancelled'}active_{if $smarty.get.sort_by eq 'DESC'}desc{else}asc{/if}{/if}"><a href="{$page_url}?sort_on=wt_que_is_cancelled&sort_by={$new_sort}">{$_lang.tbl_wait_queue.label.wt_que_is_cancelled}</a></th>			<th class="{if $smarty.get.sort_on eq 'wt_que_restaurant'}active_{if $smarty.get.sort_by eq 'DESC'}desc{else}asc{/if}{/if}"><a href="{$page_url}?sort_on=wt_que_restaurant&sort_by={$new_sort}">{$_lang.tbl_wait_queue.label.wt_que_restaurant}</a></th>			<th class="{if $smarty.get.sort_on eq 'wt_que_by_cust'}active_{if $smarty.get.sort_by eq 'DESC'}desc{else}asc{/if}{/if}"><a href="{$page_url}?sort_on=wt_que_by_cust&sort_by={$new_sort}">{$_lang.tbl_wait_queue.label.wt_que_by_cust}</a></th>-->			<th class="{if $smarty.get.sort_on eq 'wt_que_created_on'}active_{if $smarty.get.sort_by eq 'DESC'}desc{else}asc{/if}{/if}"><a href="{$page_url}?sort_on=wt_que_created_on&sort_by={$new_sort}">{$_lang.tbl_wait_queue.label.wt_que_created_on}</a></th>			<!--<th class="{if $smarty.get.sort_on eq 'wt_que_completed_on'}active_{if $smarty.get.sort_by eq 'DESC'}desc{else}asc{/if}{/if}"><a href="{$page_url}?sort_on=wt_que_completed_on&sort_by={$new_sort}">{$_lang.tbl_wait_queue.label.wt_que_completed_on}</a></th>-->			<th class="action_header">Action</th>		</tr>		{foreach from=$tbl_wait_queuelist item=tbl_wait_queueitem}		<tr class="{cycle values="odd,even"}{if $tbl_wait_queueitem.isExpTimeCompleted eq 1} customers{/if}" id="que_{$tbl_wait_queueitem.wt_que_id}" >			<td onclick='window.location.href="{$page_url}?mode={$smarty.const.MODE_VIEW}&wt_que_id={$tbl_wait_queueitem.wt_que_id}"'>{$tbl_wait_queueitem.wt_que_customer}</td>			<td onclick='window.location.href="{$page_url}?mode={$smarty.const.MODE_VIEW}&wt_que_id={$tbl_wait_queueitem.wt_que_id}"'>{$tbl_wait_queueitem.wt_que_cust_ph_no}</td>			<td onclick='window.location.href="{$page_url}?mode={$smarty.const.MODE_VIEW}&wt_que_id={$tbl_wait_queueitem.wt_que_id}"'>{$tbl_wait_queueitem.wt_que_party_size}</td>			<td onclick='window.location.href="{$page_url}?mode={$smarty.const.MODE_VIEW}&wt_que_id={$tbl_wait_queueitem.wt_que_id}"'>{$tbl_wait_queueitem.tbl_type_name}</td>			<td onclick='window.location.href="{$page_url}?mode={$smarty.const.MODE_VIEW}&wt_que_id={$tbl_wait_queueitem.wt_que_id}"'>{if $tbl_wait_queueitem.wt_que_table_id neq ""}{$tbl_wait_queueitem.wt_que_table_id}{else}--{/if}</td>			<td  onclick='window.location.href="{$page_url}?mode={$smarty.const.MODE_VIEW}&wt_que_id={$tbl_wait_queueitem.wt_que_id}"'>{if $tbl_wait_queueitem.isExpTimeCompleted eq 1}Completed{else}{if $tbl_wait_queueitem.isActive eq 1}{$tbl_wait_queueitem.wt_que_cur_remain_time}{else}--{/if}{/if}</td>			<td> 									{if  $isCustomer eq false && $tbl_wait_queueitem.isActive eq 1 && $tbl_wait_queueitem.isExpTimeCompleted neq 1}			<table id="view_{$tbl_wait_queueitem.wt_que_id}" style="width:100%;"><tr><td  style="width:70%;">{$tbl_wait_queueitem.wt_que_exp_time}</td><td><input type="button" data-inline="true" data-mini="true" data-icon="edit" onclick="toggle_exp_time({$tbl_wait_queueitem.wt_que_id});" data-iconpos="notext"/></td></tr></table>			<table id="edit_{$tbl_wait_queueitem.wt_que_id}" style="display:none;"><tr><td  style="width:70%;"><input id="input_{$tbl_wait_queueitem.wt_que_id}" value="{$tbl_wait_queueitem.wt_que_exp_time}" /></td><td><input type="button" data-inline="true" data-mini="true" onclick="set_exp_time({$tbl_wait_queueitem.wt_que_id},{$tbl_wait_queueitem.wt_que_exp_time});" data-icon="check" data-iconpos="notext"/></td><td><input type="button" data-inline="true" data-mini="true" data-icon="delete" onclick="toggle_exp_time({$tbl_wait_queueitem.wt_que_id},{$tbl_wait_queueitem.wt_que_exp_time});" data-iconpos="notext"/></td></tr></table>			{else}{$tbl_wait_queueitem.wt_que_exp_time}{/if}			 			</td>						<!--<td>{$tbl_wait_queueitem.wt_que_is_cancelled}</td>			<td>{$tbl_wait_queueitem.wt_que_restaurant}</td>			<td>{$tbl_wait_queueitem.wt_que_by_cust}</td>-->			<td>{$tbl_wait_queueitem.friendly_wt_que_created_on}</td>			<!--<td>{$tbl_wait_queueitem.wt_que_completed_on}</td>-->			<td>						{if $tbl_wait_queueitem.isActive eq 1} 			 {if $isCustomer}			 	waiting 				<a href="#" onclick="cancelQue({$tbl_wait_queueitem.wt_que_id},1);" class="cancelIcon"></a>			 {else}			  	<a href="#" onclick="confirmQue({$tbl_wait_queueitem.wt_que_id},'{if $tbl_wait_queueitem.wt_que_table_id neq ""}{$tbl_wait_queueitem.wt_que_table_id}{else}{/if}');" class="checkIcon"></a> 			  	<a href="#" onclick="cancelQue({$tbl_wait_queueitem.wt_que_id},1);" class="cancelIcon"></a>			  {/if}	 			{else}			  {if $tbl_wait_queueitem.wt_que_is_cancelled eq 1}			    Cancelled			  {else}			  	Seated			  {/if}			{/if}			</td>			<!--<td><a href="{$page_url}?mode={$smarty.const.MODE_UPDATE}&wt_que_id={$tbl_wait_queueitem.wt_que_id}" class="editIcon"></a><a class="deleteIcon" href="#" onclick="deletetbl_wait_queue({$tbl_wait_queueitem.wt_que_id});"></a>{if $tbl_wait_queueitem.isActive eq 1}<a href="{$page_url}?action={$smarty.const.ACTION_DEACTIVATE}&wt_que_id={$tbl_wait_queueitem.wt_que_id}" class="deactiveIcon" title="{$_lang.tbl_wait_queue.DEACTIVATE.BTN_LBL}"></a>{else}<a href="{$page_url}?action={$smarty.const.ACTION_ACTIVATE}&wt_que_id={$tbl_wait_queueitem.wt_que_id}" class="activeIcon" title="{$_lang.tbl_wait_queue.ACTIVATE.BTN_LBL}"></a>{/if}</td>	-->							</tr>	{/foreach}		<tfoot>			<tr>				<td colspan="9">					# {$result_found}&nbsp;&nbsp;&nbsp;{if $pagination neq ""}{$pagination}{/if}					<select onchange="changePage('{$navigationURL}',this.value,{$smarty.request.limit});">					{if $allPageCount gt 1}						{for $foo=1 to $allPageCount}							<option value="{$foo}" {if $foo eq $currentPage}selected="selected"{/if}>{$foo}</option>						{/for}					{else}						<option value="1" disabled="disabled">1</option>					{/if}					</select>				</td>			</tr>		</tfoot>	</table>{else}	<div class="error">{$_lang.tbl_wait_queue.no_record_found}</div>{/if} {if $isCustomer}{else}<center><input data-icon="add-item" data-inline="true" onclick="window.location.href='{$page_url}?mode={$smarty.const.MODE_CREATE}'" type="button" value="{$_lang.tbl_wait_queue.CREATE.BTN_LBL}"/>{if $isAllowNewQue eq 1}	 <input data-icon="check" data-inline="true" onclick="changeAllowQueue(0);" type="button" value="Stop New Queue"/>{else} <input data-icon="check" data-inline="true" onclick="changeAllowQueue(1);" type="button" value="Allow New Queue"/>{/if}</center> {/if}</div> {include file="tbl_wait_queue/popupTable.tpl"}{include file="footercontent.tpl"}{include file="tbl_wait_queue/js.tpl"}</body></html>