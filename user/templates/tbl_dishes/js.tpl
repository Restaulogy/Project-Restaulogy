{literal}<script type="text/javascript"> function show_food_tab(sel_tab){    if(sel_tab=='wine'){        $('#food_reg_dish').hide();        $('#food_wine_dish').show();    }else{        $('#food_reg_dish').show();        $('#food_wine_dish').hide();    }}function chk_already_there(){          var isfound=0;          if (document.getElementById('dish_name').value != ""){			var info = {};						info['action'] = "chkDishAlreadyExits";			info['var1'] = document.getElementById('dish_name').value;			if(elemById("action").value=="UPDATE"){                info['var2'] = document.getElementById('dish_id').value;            }else{                info['var2'] = 0;            }			$.ajax({	        type     : "POST",	        url      : website + "/ajax/custom_functions.php" ,			data	 : info,	        dataType : "json",			async	 : false,	    	success  : function(response){                  if(response){                   	if(response.op==1){                      alert('Dish already exits');                      isfound=1;                    }                  }                },			error: function(objResponse){				//alert(objResponse.responseText);			}		});       }else{	   	   //city.empty();		   //$('<option value="0">{/literal}{$_lang.select_city}{literal}</option>').appendTo(city);	   }	   //city.selectmenu('refresh', true);	   return isfound; }function show_tab(sel_tab){    if(sel_tab=='wine'){        $('#reg_dish').hide();        $('#wine_dish').show();        //$('#dish_is_drink').val(1);        //$('#tab_dish').addClass("link");    }else{        $('#reg_dish').show();        $('#wine_dish').hide();        //$('#dish_is_drink').val(0);        //$('#tab_dish').addClass("link");    }}function show_nutri_tab(sel_tab){    if(sel_tab=='text'){        $('#nutri_table').hide();        $('#nutri_text').show();    }else{        $('#nutri_table').show();        $('#nutri_text').hide();    }}function fillsubmenu_dishes(){	var sbmnudish_id=0; 	sbmnudish_id = elemRadioCheckedValue('sbmnudish[]');	 	if(sbmnudish_id > 0){ 		//alert(sbmnudish_id);	 		menu 					= $('#menu_' + sbmnudish_id).val();		submenu 			= $('#submenu_' + sbmnudish_id).val();  			$('#sbmnu_dish_menu').val(menu).selectmenu('refresh'); 		getSubMenus(menu,'sbmnu_dish_submenu',submenu); 		$('#sbmnu_dish_price').val($('#price_' + sbmnudish_id).val()); 		$('#sbmnu_dish_display_order').val($('#order_' + sbmnudish_id).val()); 		$('#sbmnu_dish_display_order').selectmenu('refresh'); 		$('#sbmnu_dish_desc').val(trim($('#desc_' + sbmnudish_id).val()));		$('#saveaction').val('UPDATE');		$('#sbmnu_dish_id').val(sbmnudish_id); 		$('#popupAddSubMenu').popup('open');  	}else{		alert('Please Select Submenu Dish'); 	} }function deleteSubMnuDish(dish){	var sbmnudish_id=0; 	sbmnudish_id = elemRadioCheckedValue('sbmnudish[]'); 	if(sbmnudish_id > 0){ 		submnu 			= $('#submenu_' + sbmnudish_id).val(); 		if(confirm("{/literal}{$_lang.tbl_submenu_dishes.DELETE.CONFIRM_MSG}{literal}")==true){				window.location.href="{/literal}{$website}{literal}/user/tbl_submenu_dishes.php?sbmnu_dish_id="+ sbmnudish_id +"&{/literal}{$smarty.const.ACTION_TITLE}={$smarty.const.ACTION_DELETE}{literal}&sbmnu_dish_submenu="+ submnu +"&dish_id="+ dish +"&is_redirection=tbl_dishes";		}	}else{		alert('Please Select Submenu Dish'); 	}  }function validatetbl_submenu_dishes(){	$("#sbmnu_dish_id_err, #sbmnu_dish_menu_err, #sbmnu_dish_submenu_err, #sbmnu_dish_dish_err, #sbmnu_dish_price_err, #sbmnu_dish_display_order_err, #sbmnu_dish_desc_err, #sbmnu_dish_start_date_err, #sbmnu_dish_end_date_err").html("");	var isErr = true;	if(elemById("saveaction").value=="update"){		if(IsNonEmpty(elemById("sbmnu_dish_id").value)==false){			$("#sbmnu_dish_id_err").html("{/literal}{$_lang.tbl_submenu_dishes.not_empty_msg.sbmnu_dish_id}{literal}");			isErr = false;		}	} 		if(IsNonEmpty(elemById("sbmnu_dish_menu").value)==false){		$("#sbmnu_dish_menu_err").html("{/literal}{$_lang.tbl_submenu_dishes.not_empty_msg.sbmnu_dish_menu}{literal}");		isErr = false;	}		if(IsNonEmpty(elemById("sbmnu_dish_submenu").value)==false){		$("#sbmnu_dish_submenu_err").html("{/literal}{$_lang.tbl_submenu_dishes.not_empty_msg.sbmnu_dish_submenu}{literal}");		isErr = false;	}	 		var dish = elemById("sbmnu_dish_dish").value;	var menu = elemById("sbmnu_dish_submenu").value;	var dish_id =  elemById("sbmnu_dish_id").value;		if(chkDishMnuSubMnu(dish,menu,dish_id) == -1){ 		    			$('#sbmnu_dish_submenu_err').html('Record Already Exists');		 	isErr = false;		}	  	if(IsNonEmpty(elemById("sbmnu_dish_dish").value)==false){		$("#sbmnu_dish_dish_err").html("{/literal}{$_lang.tbl_submenu_dishes.not_empty_msg.sbmnu_dish_dish}{literal}");		isErr = false;	}	if(IsNonEmpty(elemById("sbmnu_dish_price").value)==false){		$("#sbmnu_dish_price_err").html("{/literal}{$_lang.tbl_submenu_dishes.not_empty_msg.sbmnu_dish_price}{literal}");		isErr = false;	}		if(IsNumeric(elemById("sbmnu_dish_price").value)==false){		$("#sbmnu_dish_price_err").html("{/literal}{$_lang.tbl_submenu_dishes.input_err_msg.sbmnu_dish_price}{literal}");		isErr = false;	}	if(IsNonEmpty(elemById("sbmnu_dish_display_order").value)==false){		$("#sbmnu_dish_display_order_err").html("{/literal}{$_lang.tbl_submenu_dishes.not_empty_msg.sbmnu_dish_display_order}{literal}");		isErr = false;	}	if(IsNonEmpty($("#sbmnu_dish_desc").val())==false){		$("#sbmnu_dish_desc_err").html("{/literal}{$_lang.tbl_submenu_dishes.not_empty_msg.sbmnu_dish_desc}{literal}");		isErr = false;	}    	if(isErr == false){		alert("{/literal}{$_lang.messages.revise_form}{literal}");	}	return isErr;}//..function function chkDishMnuSubMnu(dish,submnu,submnudish){	 var info = {};	 info['action'] = 'chkDishMnuSubMnu';	 info['var1'] 	= dish;	 info['var2'] 	= submnu;	 if(submnudish){}else{	 		submnudish = 0;	 }	 info['var3'] 	= submnudish;	 var err = 0;	 ajaxian(info,function(res){  	 	 err = res;	 }); 	 return err;} /*$(document).one("pagebeforechange", function() {    // animation speed;    var animationSpeed = 700;    function animateCollapsibleSet(elm) {        // can attach events only one time, otherwise we create infinity loop;        elm.one("expand", function() {            // hide the other collapsibles first;            $(this).parent().find(".ui-collapsible-content").not(".ui-collapsible-content-collapsed").trigger("collapse");            // animate show on collapsible;            $(this).find(".ui-collapsible-content").slideDown(animationSpeed, function() {                // trigger original event and attach the animation again;                animateCollapsibleSet($(this).parent().trigger("expand"));            });            // we do our own call to the original event;            return false;        }).one("collapse", function() {            // animate hide on collapsible;            $(this).find(".ui-collapsible-content").slideUp(animationSpeed, function() {                // trigger original event;                $(this).parent().trigger("collapse");            });            // we do our own call to the original event;            return false;        });    }     // init;    animateCollapsibleSet($("[data-role='collapsible-set'] > [data-role='collapsible']"));});*/$('.coll').on('expand collapse',function (e) {	if (e.type == 'expand') {	$(this).find('a.ui-collapsible-heading-toggle').addClass('biz_ui_selected').trigger("create");	}else{		$(this).find('a.ui-collapsible-heading-toggle').removeClass('biz_ui_selected').trigger("create");	}}); function deletetbl_dishes(varId){	if(varId > 0){		if(confirm("{/literal}{$_lang.tbl_dishes.DELETE.CONFIRM_MSG}{literal}")==true){			window.location.href="{/literal}{$page_url}{literal}?action=delete&dish_id="+varId;		}	}}/*function actiontbl_submenu_dishes(action,sbmnu_dish_submenu){ 	var varId = $("input:checked").length;	var isValid = 0;	if(varId > 0){	if(action != ""){		switch (action) {			case '{/literal}{$smarty.const.ACTION_DELETE}{literal}':			if(confirm("{/literal}{$_lang.tbl_submenu_dishes.DELETE.CONFIRM_MSG}{literal}")==true){					isValid = 1;			}  			break;						case '{/literal}{$smarty.const.ACTION_DEACTIVATE}{literal}':			isValid = 1;			break;						case '{/literal}{$smarty.const.ACTION_ACTIVATE}{literal}':			isValid = 1; 			break; 		}		  		if(isValid){		 	$('#mnusbmnu_action').val(action);			$('#sbmnu_dish_submenu').val(sbmnu_dish_submenu);						//alert(action);		  $('#frm_tbl_submenu_dishes').submit();		}				}	}else{			alert("{/literal}{$_lang.main.select_ids.empty}{literal}"); 	}	}*/function actiontbl_dishes(action){  	var varId = $("input:checked").length;	var isValid = 0;	if(varId > 0){	if(action != ""){		switch (action) {			case '{/literal}{$smarty.const.ACTION_DELETE}{literal}':			if(confirm("{/literal}{$_lang.tbl_dishes.DELETE.CONFIRM_MSG}{literal}")==true){					isValid = 1;			}  			break;						case '{/literal}{$smarty.const.ACTION_DEACTIVATE}{literal}':			isValid = 1;			break;						case '{/literal}{$smarty.const.ACTION_ACTIVATE}{literal}':			isValid = 1; 			break; 		}		 		  		 if(isValid){		 	$('#action').val(action);		  $('#frm_tbl_dishes').submit();		 }				}	}else{			alert("{/literal}{$_lang.main.select_ids.empty}{literal}"); 	}	}function deletetbl_dishes(){ 	var varId = $("input:checked").length;	if(varId > 0){		if(confirm("{/literal}{$_lang.tbl_dishes.DELETE.CONFIRM_MSG}{literal}")==true){				$('#action').val("{/literal}{$smarty.const.ACTION_DELETE}{literal}");			$('#frm_tbl_dishes').submit();		}	}else{		alert("{/literal}{$_lang.main.select_ids.empty}{literal}");	}}function validateImage(){ 	var field = document.getElementById('dish_img'); 	var mnu_err = $('#dish_img_err');	 mnu_err.html('').trigger('refresh');      if(!IsNonEmpty(field.value)){         mnu_err.html('Please Upload a file.').trigger('refresh');         isSave = 0;         }else{		  if ((IsFileType(field.value, 'png') || IsFileType(field.value, 'gif') || IsFileType(field.value, 'jpg')) == false){            mnu_err.html('Your uploaded file must be in .gif|.png|.jpg Format\nPlease select again.').trigger('refresh'); 		 }else{            $('#frmupdatetbl_dishes').submit();	 		 }		return false;      } 	return true;}function valid_search(){    $("#search_dish_err").html("");    var isErr = true;    if(IsNonEmpty(elemById("search_dish").value)==false){		$("#search_dish_err").html("{/literal}{$_lang.tbl_dishes.not_empty_msg.dish_name}{literal}");		isErr = false;	}	if(isErr == false){		alert("{/literal}{$_lang.messages.revise_form}{literal}");	}	return isErr;}function validatetbl_dishes(){	$("#dish_id_err").html("");	$("#dish_name_err").html("");	$("#dish_chef_notes_err").html("");	$("#dish_ingrad_allergic_contents_err").html("");	$("#dish_nutri_cal_info_err").html("");    $("#dish_allergy_err").html("");	$("#dish_food_wine_pair_err").html("");    $("#dish_notes_err").html("");	$("#dish_img_err").html("");		$("#dish_winery_err").html("");	$("#dish_type_cat_err").html("");	$("#dish_alcohol_percent_err").html("");	$("#dish_vintage_err").html("");	$("#dish_varietal_err").html("");	$("#dish_region_err").html("");	$("#dish_country_err").html("");	$("#dish_bottle_price_err").html("");	$("#dish_glass_price_err").html("");	$("#dish_winemaking_err").html("");	$("#dish_maturity_err").html("");	$("#dish_is_drink_err").html("");		$("#dish_attributes_err").html("");		$("#dish_start_date_err").html("");	$("#dish_end_date_err").html("");		$("#nutr_total_cal_err").html("");	$("#nutr_cal_from_fat_err").html("");	$("#nutr_total_fat_err").html("");	$("#nutr_saturated_fat_err").html("");	$("#nutr_trans_fat_err").html("");	$("#nutr_cholestrol_err").html("");	$("#nutr_sodium_err").html("");	$("#nutr_total_carbohydrate_err").html("");	$("#nutr_sugar_err").html("");	$("#nutr_dietary_fiber_err").html("");	$("#nutr_protein_err").html("");			var isErr = true;	/*	if(elemById("action").value=="update"){		if(IsNonEmpty(elemById("dish_id").value)==false){			$("#dish_id_err").html("{/literal}{$_lang.tbl_dishes.not_empty_msg.dish_id}{literal}");			isErr = false;		}	}else{		var field = elemById("dish_img");			  	if(!IsNonEmpty(field.value)){         if(elemById("action").value=="CREATE"){				 	$("#dish_img_err").html('Please Upload Image file.').trigger('refresh');         isErr = false;				 }      }else{ 		  if ((IsFileType(field.value, 'png') || IsFileType(field.value, 'gif') || IsFileType(field.value, 'jpg')) == false){            $("#dish_img_err").html('Your uploaded file must be in .gif|.png|.jpg Format\nPlease select again.').trigger('refresh');			isErr = false; 		 }      }   			}	*/	if(IsNonEmpty(elemById("dish_name").value)==false){		$("#dish_name_err").html("{/literal}{$_lang.tbl_dishes.not_empty_msg.dish_name}{literal}");		isErr = false;	}		//..Following validation only for the wine tab only	if(elemById("dish_is_drink_2").checked){        if(IsNonEmpty(elemById("dish_alcohol_percent").value)){          if(IsNumeric(elemById("dish_alcohol_percent").value)==false){        		$("#dish_alcohol_percent_err").html("{/literal}{$_lang.tbl_dishes.input_err_msg.dish_alcohol_percent}{literal}");        		isErr = false;        	}    	}        /*    	if(IsNonEmpty(elemById("dish_bottle_price").value)==false){    		$("#dish_bottle_price_err").html("{/literal}{$_lang.tbl_dishes.not_empty_msg.dish_bottle_price}{literal}");    		isErr = false;    	}        */        if(IsNonEmpty(elemById("dish_bottle_price").value)){        	if(IsNumeric(elemById("dish_bottle_price").value)==false){        		$("#dish_bottle_price_err").html("{/literal}{$_lang.tbl_dishes.input_err_msg.dish_bottle_price}{literal}");        		isErr = false;        	}    	}        /*    	if(IsNonEmpty(elemById("dish_glass_price").value)==false){    		$("#dish_glass_price_err").html("{/literal}{$_lang.tbl_dishes.not_empty_msg.dish_glass_price}{literal}");    		isErr = false;    	}    	*/        if(IsNonEmpty(elemById("dish_glass_price").value)){            if(IsNumeric(elemById("dish_glass_price").value)==false){        		$("#dish_glass_price_err").html("{/literal}{$_lang.tbl_dishes.input_err_msg.dish_glass_price}{literal}");        		isErr = false;        	}    	}    }else{        //..nutrition        if(elemById("dish_is_nutrition_text_1").checked){             if(IsNonEmpty(elemById("nutr_total_fat").value)==true){                if(IsNumeric(elemById("nutr_total_cal").value)==false){        		  $("#nutr_total_fat_err").html("{/literal}{$_lang.tbl_nutrition.not_empty_msg.nutr_total_fat}{literal}");        		isErr = false;        		}        	}        	if(IsNonEmpty(elemById("nutr_cal_from_fat").value)==true){                if(IsNumeric(elemById("nutr_cal_from_fat").value)==false){        		  $("#nutr_cal_from_fat_err").html("{/literal}{$_lang.tbl_nutrition.not_empty_msg.nutr_cal_from_fat}{literal}");        		isErr = false;        		}        	}        	if(IsNonEmpty(elemById("nutr_total_fat").value)==true){                if(IsNumeric(elemById("nutr_total_fat").value)==false){        		  $("#nutr_total_fat_err").html("{/literal}{$_lang.tbl_nutrition.not_empty_msg.nutr_total_fat}{literal}");        		isErr = false;        		}        	}        	if(IsNonEmpty(elemById("nutr_saturated_fat").value)==true){                if(IsNumeric(elemById("nutr_saturated_fat").value)==false){        		  $("#nutr_saturated_fat_err").html("{/literal}{$_lang.tbl_nutrition.not_empty_msg.nutr_saturated_fat}{literal}");        		isErr = false;        		}        	}        	if(IsNonEmpty(elemById("nutr_trans_fat").value)==true){                if(IsNumeric(elemById("nutr_trans_fat").value)==false){        		  $("#nutr_trans_fat_err").html("{/literal}{$_lang.tbl_nutrition.not_empty_msg.nutr_trans_fat}{literal}");        		isErr = false;        		}        	}        	if(IsNonEmpty(elemById("nutr_cholestrol").value)==true){                if(IsNumeric(elemById("nutr_cholestrol").value)==false){        		  $("#nutr_cholestrol_err").html("{/literal}{$_lang.tbl_nutrition.not_empty_msg.nutr_cholestrol}{literal}");        		isErr = false;        		}        	}        	if(IsNonEmpty(elemById("nutr_sodium").value)==true){                if(IsNumeric(elemById("nutr_sodium").value)==false){        		  $("#nutr_sodium_err").html("{/literal}{$_lang.tbl_nutrition.not_empty_msg.nutr_sodium}{literal}");        		isErr = false;        		}        	}        	if(IsNonEmpty(elemById("nutr_total_carbohydrate").value)==true){                if(IsNumeric(elemById("nutr_total_carbohydrate").value)==false){        		  $("#nutr_total_carbohydrate_err").html("{/literal}{$_lang.tbl_nutrition.not_empty_msg.nutr_total_carbohydrate}{literal}");        		isErr = false;        		}        	}        	if(IsNonEmpty(elemById("nutr_sugar").value)==true){                if(IsNumeric(elemById("nutr_sugar").value)==false){        		  $("#nutr_sugar_err").html("{/literal}{$_lang.tbl_nutrition.not_empty_msg.nutr_sugar}{literal}");        		isErr = false;        		}        	}        	if(IsNonEmpty(elemById("nutr_dietary_fiber").value)==true){                if(IsNumeric(elemById("nutr_dietary_fiber").value)==false){        		  $("#nutr_dietary_fiber_err").html("{/literal}{$_lang.tbl_nutrition.not_empty_msg.nutr_dietary_fiber}{literal}");        		isErr = false;        		}        	}        	if(IsNonEmpty(elemById("nutr_protein").value)==true){                if(IsNumeric(elemById("nutr_protein").value)==false){        		  $("#nutr_protein_err").html("{/literal}{$_lang.tbl_nutrition.not_empty_msg.nutr_protein}{literal}");        		isErr = false;        		}        	}        }    }	/*	if(IsNonEmpty(elemById("dish_winery").value)==false){		$("#dish_winery_err").html("{/literal}{$_lang.tbl_dishes.not_empty_msg.dish_winery}{literal}");		isErr = false;	}	if(IsNonEmpty(elemById("dish_type_cat").value)==false){		$("#dish_type_cat_err").html("{/literal}{$_lang.tbl_dishes.not_empty_msg.dish_type_cat}{literal}");		isErr = false;	}	if(IsNonEmpty(elemById("dish_vintage").value)==false){		$("#dish_vintage_err").html("{/literal}{$_lang.tbl_dishes.not_empty_msg.dish_vintage}{literal}");		isErr = false;	}	if(IsNonEmpty(elemById("dish_varietal").value)==false){		$("#dish_varietal_err").html("{/literal}{$_lang.tbl_dishes.not_empty_msg.dish_varietal}{literal}");		isErr = false;	}	if(IsNonEmpty(elemById("dish_region").value)==false){		$("#dish_region_err").html("{/literal}{$_lang.tbl_dishes.not_empty_msg.dish_region}{literal}");		isErr = false;	}	if(IsNonEmpty(elemById("dish_country").value)==false){		$("#dish_country_err").html("{/literal}{$_lang.tbl_dishes.not_empty_msg.dish_country}{literal}");		isErr = false;	}	if(IsNonEmpty(elemById("dish_bottle_price").value)==false){		$("#dish_bottle_price_err").html("{/literal}{$_lang.tbl_dishes.not_empty_msg.dish_bottle_price}{literal}");		isErr = false;	}	if(IsNonEmpty(elemById("dish_glass_price").value)==false){		$("#dish_glass_price_err").html("{/literal}{$_lang.tbl_dishes.not_empty_msg.dish_glass_price}{literal}");		isErr = false;	}	if(IsNonEmpty(elemById("dish_winemaking").value)==false){		$("#dish_winemaking_err").html("{/literal}{$_lang.tbl_dishes.not_empty_msg.dish_winemaking}{literal}");		isErr = false;	}	if(IsNonEmpty(elemById("dish_maturity").value)==false){		$("#dish_maturity_err").html("{/literal}{$_lang.tbl_dishes.not_empty_msg.dish_maturity}{literal}");		isErr = false;	}	if(IsNonEmpty(elemById("dish_is_drink").value)==false){		$("#dish_is_drink_err").html("{/literal}{$_lang.tbl_dishes.not_empty_msg.dish_is_drink}{literal}");		isErr = false;	}	*//*	if(IsNonEmpty(elemById("dish_chef_notes").value)==false){		$("#dish_chef_notes_err").html("{/literal}{$_lang.tbl_dishes.not_empty_msg.dish_chef_notes}{literal}");		isErr = false;	}	if(IsNonEmpty(elemById("dish_ingrad_allergic_contents").value)==false){		$("#dish_ingrad_allergic_contents_err").html("{/literal}{$_lang.tbl_dishes.not_empty_msg.dish_ingrad_allergic_contents}{literal}");		isErr = false;	}	if(IsNonEmpty(elemById("dish_nutri_cal_info").value)==false){		$("#dish_nutri_cal_info_err").html("{/literal}{$_lang.tbl_dishes.not_empty_msg.dish_nutri_cal_info}{literal}");		isErr = false;	}	if(IsNonEmpty(elemById("dish_notes").value)==false){		$("#dish_notes_err").html("{/literal}{$_lang.tbl_dishes.not_empty_msg.dish_notes}{literal}");		isErr = false;	}	if(IsNonEmpty(elemById("dish_img").value)==false){		$("#dish_img_err").html("{/literal}{$_lang.tbl_dishes.not_empty_msg.dish_img}{literal}");		isErr = false;	}*//*	if(IsNonEmpty(elemById("dish_start_date").value)==false){		$("#dish_start_date_err").html("{/literal}{$_lang.tbl_dishes.not_empty_msg.dish_start_date}{literal}");		isErr = false;	}*//*	if(IsNonEmpty(elemById("dish_end_date").value)==false){		$("#dish_end_date_err").html("{/literal}{$_lang.tbl_dishes.not_empty_msg.dish_end_date}{literal}");		isErr = false;	}*/        if(chk_already_there()==1){        isErr = false;    }	if(isErr == false){		alert("{/literal}{$_lang.messages.revise_form}{literal}");	}	return isErr;}//..function$(".splitButtonClicked").on("click", function (event, ui) {    var tId =  $(this).attr('content_id');	$('#' + tId + '_edit').show();	$('#' + tId + '_view').hide(); });/*$('#frmupdatetbl_dishes div').on('expand', function(){       }).on('collapse', function(){     // var tId =$(this).find(".splitButtonClicked").attr('content_id'); 	 //$('#' + tId + '_edit').hide();	 //$('#' + tId + '_view').show(); });*/</script><style>.splitButtonClicked{	text-align:right;}</style>{/literal}