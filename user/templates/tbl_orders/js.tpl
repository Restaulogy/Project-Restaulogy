{literal}<script type="text/javascript">function hide_show_prom_app_detls(txt_id){		if(txt_id){}else{txt_id = "dv_lst_prom_app_detls"};	    var state = document.getElementById(txt_id).style.display;	    	    if (state == 'none') {	        	        document.getElementById(txt_id).style.display = 'block';	        document.getElementById("img_" + txt_id).src="{/literal}{$website}{literal}/images/_graphics/hide.gif";	    }else{	        document.getElementById(txt_id).style.display = 'none';	        document.getElementById("img_" + txt_id).src="{/literal}{$website}{literal}/images/_graphics/show.gif";	    }	}function tot_new_order(){	 	var info = {}; info['nor_tot_new_ord'] = 1;	postForm(info,"{/literal}{$website}{literal}/user/tbl_menu.php?is_preview=1",'post','_self');}  function add_items_to_order(order_id,table_id,order_customer_name){	 	var info = {}; 	info['nor_order_id'] = order_id; info['nor_table_id'] = table_id; info['nor_order_customer_name'] = order_customer_name;	postForm(info,"{/literal}{$website}{literal}/user/tbl_menu.php?is_preview=1",'post','_self');}         function changeRefundType(type){	if(type == 'FULL'){		$('#partial_block').hide();		$('#refund_amt').val($('#trans_amt').val());		$('#refund_note').val(''); 	}else{		$('#partial_block').show();		$('#refund_amt').val('0.00'); 	}}function changeMiscDescription(desc){	var misc_desc = $('#order_misc_desc');	misc_desc.hide();	 	if(desc == ''){		misc_desc.val('');		misc_desc.show();	}else{		misc_desc.val(desc);		misc_desc.hide();	}	return true;}function applyOrderConfirmation(order_id){		var isErr = true;		$('#order_confirmation_takeout_time_err').html('');		order_confirmation_takeout_time = elemById('order_confirmation_takeout_time').value;    if(IsNonEmpty(order_confirmation_takeout_time)==false){	  	 $('#order_confirmation_takeout_time_err').html("Please Enter the Order Confirmation time"); 			 isErr = false;	 }else{	 		if(isFloat(order_confirmation_takeout_time)==false){	  	 $('#order_confirmation_takeout_time_err').html("Please Enter Only Numeric value."); 			 isErr = false;			}else{				if((order_confirmation_takeout_time > 0)==false){					$('#order_confirmation_takeout_time_err').html("Please Enter amount greater than 0"); 			 		isErr = false;				}	 		}	 } 	 	  	  	if(isErr){  		var info = {};			info['action'] = "confirmTakeOutOrder";			info['var1'] = order_id;			info['var2'] = order_confirmation_takeout_time;			info['var3'] = 1;     			$.ajax({        type     	: "POST",        url      	: website + "/ajax/custom_functions.php" ,				data	 	  : info,        dataType 	: "json",				async	 		: false,	    	success  	: function(response){    							window.location.reload(); 				},				error: function(objResponse){				  alert(objResponse.responseText);			}		}); 	}else{		alert("{/literal}{$_lang.messages.revise_form}{literal}");	}} function applyMiscCharges(order_id){		var isErr = true;		$('#order_misc_charge_err, #order_misc_desc_err').html('');		misc_charge = elemById('order_misc_charge').value;		misc_desc = elemById('order_misc_desc').value;   if(IsNonEmpty(misc_charge)==false){	  	 $('#order_misc_charge_err').html("Please Enter the Misc charge amount"); 			 isErr = false;	 }else{	 		if(isFloat(misc_charge)==false){	  	 $('#order_misc_charge_err').html("Please Enter Only Numeric value."); 			 isErr = false;			}else{				if((misc_charge > 0)==false){					$('#order_misc_charge_err').html("Please Enter amount greater than 0"); 			 		isErr = false;				}	 		}	 } 	 	 if(IsNonEmpty(misc_desc)==false){	  	 $('#order_misc_desc_err').html("Please Enter the Misc description"); 			 isErr = false;	 } 	  	if(isErr){  		var info = {};			info['action'] = "applyMiscCharges";			info['var1'] = order_id;			info['var2'] = misc_charge;  			info['var3'] =  misc_desc ;  			$.ajax({        type     	: "POST",        url      	: website + "/ajax/custom_functions.php" ,				data	 	  : info,        dataType 	: "json",				async	 		: false,	    	success  	: function(response){    							window.location.reload(); 				},				error: function(objResponse){				 //alert(objResponse.responseText);			}		}); 	}else{		alert("{/literal}{$_lang.messages.revise_form}{literal}");	}}	function validateRefundForm(){	$('#refund_amt_err, #refund_note_err').html(""); 	var isErr = true; 	if(IsNonEmpty(elemById('refund_amt').value)==false){	  	 $('#refund_amt_err').html("Please Enter the refund amount"); 			 isErr = false;	 }else{	 		if(isFloat(elemById('refund_amt').value)==false){	  	 $('#refund_amt_err').html("Please Enter the refund amount"); 			 isErr = false;			}else{				if((elemById('refund_amt').value > 0)==false){					$('#refund_amt_err').html("Please Enter amount greater than 0"); 			 		isErr = false;				}else{						if (elemById('refund_type').value=='PARTIAL'){							var ref_amt = parseFloat(elemById('refund_amt').value) + parseFloat(elemById('refunded_amt').value) ; 								if(ref_amt >   parseFloat(elemById('trans_amt').value)){							$('#refund_amt_err').html("Please Enter the refund amount less than transaction amount."); 							 isErr = false;								}						}				}  			}	 }	if(elemById('refund_type').value == 'PARTIAL'){		if(IsNonEmpty(elemById('refund_note').value)==false){	  	 $('#refund_note_err').html("Please Enter the refund note"); 			 isErr = false;	 }	}	 	if(isErr == false){		alert("{/literal}{$_lang.messages.revise_form}{literal}");	} 	return isErr;}function openRefundList(trans_id,tran_type,tran_paypal,tran_amt){ if(trans_id > 0){ 	var strop='';	$('#trans_paypal_holder').html(tran_paypal).trigger('refresh');	$('#trans_type_holder').html(tran_type).trigger('refresh');	$('#trans_amt_holder').html('$' + tran_amt).trigger('refresh');	var info = {action:'getRefundList', var1:trans_id};	ajaxian(info,function(res){ 		if((res.count > 0) && (res.list)){			strop = strop + '<table class="biz_data_grid">';			strop = strop + '<tr><th>{/literal}{$_lang.tbl_ord_refund.label.refund_amnt}{literal}</th><th>{/literal}{$_lang.tbl_ord_refund.label.refund_note}{literal}</th><th>{/literal}{$_lang.tbl_ord_refund.label.refund_start_date}{literal}</th></tr>';			if(res.list){ 			var cnt = 0;				for(i in res.list){					var vitem = res.list[i]; 					  					strop = strop + '<tr class="'+ ((cnt%2==0) ? 'even':'odd') +'"><td>'+ vitem.refund_amnt +'</td><td>'+ (IsNonEmpty(vitem.refund_note)? vitem.refund_note : '--' ) +'</td><td>'+ vitem.refund_start_date +'</td></tr>';				 cnt++;				}							}			strop = strop + '</table>';		  		}else{			strop = strop + '<div class="error">{/literal}{$_lang.tbl_ord_refund.no_record_found}{literal}</div>';		}  }); 		 $('#contentHolder').html(strop).trigger('create');		$('#popupRefundList').popup('open'); 	  } }function openRefund(trans_id,trans_amt,trans_type,refunded_amt,isPaid){ 	if(trans_id > 0){ 		$('#trans_id').val(trans_id);		$('#trans_amt').val(trans_amt); 		$('#refunded_amt').val(refunded_amt);		if(isPaid){			$('#submit_refund').attr('disabled','disabled');		}else{			$('#submit_refund').removeAttr('disabled');		}		var objref_type = $('#refund_type');		objref_type.removeAttr('disabled');		if(trans_type=="FULL" || trans_type=="PARTIAL"){			objref_type.val(trans_type).attr('disabled','disabled'); 		}   		changeRefundType(objref_type.val()); 		objref_type.selectmenu('refresh'); 		$('#popupRefund').popup('open'); 	 	}} function applyCoupon(coupon_id,order_id,table_id){    //alert(coupon_id + '-' + order_id + '-' + table_id); if(is_gt_zero_num(coupon_id) && is_gt_zero_num(order_id) && is_gt_zero_num(table_id)){        //alert(coupon_id + '-' + order_id + '-' + table_id); 	    var info = {action:'applyCoupon',var1:coupon_id,var2:order_id,var3:table_id};		ajaxian(info,function(res){			window.location.reload();		});	}}function reqstClaimPromotion(table_id,cust_name,order_id){	var info = {action:'reqstClaimPromotion',var1:table_id,var2:cust_name,var3:order_id}; 		ajaxian(info,function(res){			window.location.reload();		});}function confirmClaimCoupon(order_id){	if(order_id > 0){		var info = {action:'confirmClaimCoupon',var1:order_id}; 		ajaxian(info,function(res){			window.location.reload();		});	}}function openPaymentMode(){ {/literal}	{if $isCustomer && ($tbl_ordersinfo.order_isclaimed_promotions eq 0 && $tbl_ordersinfo.coupons.count gt 0 )}{literal}        $('#popupClaimPromotion').popup('open');{/literal}	{else}{literal}        $('#pay_mode_sel').popup('open');{/literal}	{/if}{literal}}/*function openPaymentMode(){{/literal}	{if $isCustomer && ($tbl_ordersinfo.order_isclaimed_promotions eq 0 && $tbl_ordersinfo.coupons.count gt 0 )}{literal}        $('#popupClaimPromotion').popup('open');{/literal}	{else}{literal}        $('#pay_mode_sel').popup('open');{/literal}	{/if}{literal}}*/function convertTakeOutOrderToDine(order_id,order_customer){	var table_id =  $('#ord_table').val();	if(is_gt_zero_num(table_id)){ 		var info = {};		info['action'] = 'convertTakeOutOrderToDine';		info['var1'] = order_id;		info['var2'] = order_customer;		info['var3'] = table_id;		 ajaxian(info,function(res){		 	window.location.reload();		}); 	}else{		alert('Please, Select The Table');	}}function printReceipt(order_id,is_new_window){	//alert(order_id); 	var order_tip = $('#order_tip').val(); 	if(order_tip > 0){}else{		order_tip = 0.00;	}	var payment_choice = "";	  	var objChoice = document.getElementById('payment_choice');	 if(objChoice){	 	payment_choice = objChoice.value; 	 }else{	 		{/literal}				{if $tbl_ordersinfo.payment_options.ord_pmnt_option}	 			{literal}payment_choice = {/literal}"{$tbl_ordersinfo.payment_options.ord_pmnt_option}";	 		{/if}		{literal} 	 }		//alert(payment_choice);	 /*	var info = {}; 	info['order_id'] 	= order_id;	info['order_tip'] = order_tip; 	info['payment_choice'] = payment_choice;  */		 //$('#lnkPopouReceipt').attr('href',"{/literal}{$website}{literal}/user/order_receipt.php?order_id="+order_id+"&order_tip="+order_tip+"&payment_choice="+payment_choice);		  /*{/literal}	if($tbl_ordersinfo.order_status_id == $smarty.const.TBL_STATUS_CHECK){		{literal}		if(is_new_window == 1){		 		 window.open("{/literal}{$website}{literal}/user/order_receipt.php?is_new_window=1&order_id="+order_id+"&order_tip="+order_tip+"&payment_choice="+payment_choice);		 }else{		 		 window.location.href = "{/literal}{$website}{literal}/user/order_receipt.php?order_id="+order_id+"&order_tip="+order_tip+"&payment_choice="+payment_choice ;		 }{/literal}			}else{{literal}		window.location.href ='{/literal}{$website}{literal}/paypal/payment.php?order_id='+ order_id +'&order_payment_id=0&payment_choice={/literal}{$tbl_ordersinfo.payment_options.ord_pmnt_option}{literal}&ord_pmnt_split_amng={/literal}{$tbl_ordersinfo.payment_options.ord_pmnt_split_amng}{literal}&order_amt_i_pay={/literal}{$tbl_ordersinfo.can_pay_amt}{literal}&order_tip='+order_tip + '&isPayByCash=1&ord_pmnt_split_pay_for=1&open_recpeipt=1';{/literal}			}{literal}	 */	if(is_new_window == 1){	 	window.open("{/literal}{$website}{literal}/user/order_receipt.php?is_new_window=1&order_id="+order_id+"&order_tip="+order_tip+"&payment_choice="+payment_choice);	}else{	 		window.location.href = "{/literal}{$website}{literal}/user/order_receipt.php?order_id="+order_id+"&order_tip="+order_tip+"&payment_choice="+payment_choice ;	}	 	  //$('#lnkPopouReceipt').trigger('click');  //postForm(info,"{/literal}{$website}{literal}/user/order_receipt.php",'post','_blank');}/*function applyPromotionToOrder(order_id){	//alert(order_id);	var info = {};	info['action'] = 'applyPromotionToOrder';	info['var1'] = order_id; 	info['var2'] = order_id;	ajaxian(info,function(res){		window.location.reload();	});	return true;}*/function applyPromotionToOrder(order_id){	//alert(order_id);	/*var info = {};	info['action'] = 'applyPromotionToOrder';	info['var1'] = order_id; 	info['var2'] = order_id;	ajaxian(info,function(res){		window.location.reload();	});	*/	postForm({'order_apply_promotion':1},"{/literal}{$website}/user/tbl_orders.php?{$smarty.const.MODE_TITLE}={$smarty.const.MODE_VIEW}{literal}&order_id=" + order_id +"");	return true;}function removeAppliedPromotionToOrder(order_id,prom_id){		if(confirm("Do you really want to remove applied promotions?")==true){			postForm({'order_remove_apply_promotion':1,'order_app_prom_id':prom_id},"{/literal}{$website}/user/tbl_orders.php?{$smarty.const.MODE_TITLE}={$smarty.const.MODE_VIEW}{literal}&order_id=" + order_id +"");	}		return true;}function goEditOrder(order_id){	postForm({'go_edit_ord':1},"{/literal}{$website}/user/tbl_orders.php?{$smarty.const.MODE_TITLE}={$smarty.const.MODE_VIEW}{literal}&order_id=" + order_id +"");	return true;}function switchToMainOrder(order_id){	postForm({'switch_to_main':1},"{/literal}{$website}/user/tbl_orders.php?{$smarty.const.MODE_TITLE}={$smarty.const.MODE_VIEW}{literal}&order_id=" + order_id +"");	return true;}function gocancelorder(order_id){	postForm({'go_cancel_order':1},"{/literal}{$website}/user/tbl_orders.php?{$smarty.const.MODE_TITLE}={$smarty.const.MODE_VIEW}{literal}&order_id=" + order_id +"");	return true;}function validateClaimProm(){  if($("#claim_promotions :selected").length > 0){		return true;	}else{	  alert('Please Select At least one promotion to claim');	 	return false;	} }function openPromotions(order_id,cust_id){	var holder = $("#claim_promotions");    $("#claim_promotions_err").html("");	var strOp = "";	 	$.ajax({     	    type : "POST",	    url  : "{/literal}{$website}{literal}/ajax/custom_functions.php" ,	    data : {'action':'getAvailPromForOrder','var1':order_id,'var2':cust_id},	    dataType : "json",		async	 : false,	    success  : function(data) {		 			if(data){  					  	cnt = 1;					 holder.empty();						 strOp = '<option value="" data-placeholder="true">Choose...</option>';					 $.each(data, function(index, result) { 					 	/*strOp  = strOp  + "<tr class='" + ((cnt%2==0)?'even':'odd') + "'>";						strOp  = strOp  + "<td><b>" + cnt + "</b></td><td><input type=\"checkbox\" name=\"sel_prom[]\" />" + result['title']+ "</td><td>"+  result['end_date'] + "</td>";						strOp  = strOp  + "</tr>";*/						strOp = strOp + '<option value="' +  result['id'] + '" >'+  result['title'] +'</option>' ; 					 	cnt++; 					}); 				 						 if(cnt > 1){ 					 	/*strOp = "<table class=\"biz_data_grid\"><tr><th>No</th><th></th><th></th></tr>" + strOp + "</table>";*/						 holder.html(strOp.toString());   						/*$('#txtOrderHolder').html('Unpaid Orders').trigger('refresh'); 						$('#btnConfirmOrder').addClass('biz_hidden').trigger('refresh');  						$('#btnUnPaidOrder').removeClass('biz_hidden').trigger('refresh');					  $('#lnkpopupOrders').trigger('click');  */ 											 }else{					 	$("#claim_promotions_err").html('<div class="error">No {/literal}{$_lang.lbl_coupon}{literal} available for claim</div>');					    /*$('#frmChangeRequestStage').submit();*/					 }  					}else{						 $("#claim_promotions_err").html('<div class="error">No {/literal}{$_lang.lbl_coupon}{literal} available for claim</div>');					  /*$('#frmChangeRequestStage').submit();*/				    }		 	},		error : function (objResponse){			alert(objResponse.responseText);		}	 });	 	 holder.selectmenu('refresh');	 $('#popupPromotions').show();	 //$('#popupPromotions').popup('open');}function changeQty(obj,qty,price){	//alert(obj.html()); 	if(isNaN(qty)==false){		 strOp = '<select data-mini="true" data-native-menu="false"  onchange="updateOrderItem(this.value,$(this).closest(\'td\'), '+ price +');">';		 for(var i=0; i<=10; i++){		 	if(qty == i){				strOp = strOp + '<option value="' + i + '" selected="selected">' + i + '</option>';			}else{				strOp = strOp + '<option  value="' + i + '">' + i + '</option>';			}		 			 }		 strOp = strOp + '</select>';	} 	 	obj.html(strOp).trigger('create');}function updateOrderItem(qty,obj,price){ strOp = '<b style="display:block;" onclick="changeQty($(this).parent(),'+ qty +');">' +  qty + '</b>';  	obj.html(strOp).trigger('create'); }function fillOrderDetail(ord_id){	if(ord_id > 0){		 	} }function openConfirmTakeout(){ 	 $("#popupConfirmOrder").popup("open");}function gridCollapse(ord_id){	if(ord_id > 0){		//var objCollapse = $('#collapsible' +  ord_id);		var objOrder = $('#ord_dtl_' +  ord_id);		var objCollapse=$('#collapse_' +ord_id);		 				if(objOrder.hasClass('biz_hidden')){  			$( ".biz_data_detail" ).each(function(){        $(this).parent('td').parent('tr').addClass('biz_hidden').trigger('create');  				var collapses = $(this).parent('td').parent('tr').find('.ui-btn');				collapses.data('icon', 'arrow-d'); 				collapses.find(".ui-icon").addClass("ui-icon-arrow-d").removeClass("ui-icon-arrow-u").trigger('refresh'); 				//objCollapse.data('theme','f');			 //objCollapse.find('.ui-btn').addClass('ui-btn-up-c').removeClass('ui-btn-up-f').trigger('refresh');       });			objCollapse.data('icon', 'arrow-u'); 						objCollapse.find(".ui-icon").addClass("ui-icon-arrow-u").removeClass("ui-icon-arrow-d").trigger('refresh');			/*objCollapse.data('theme','f');			objCollapse.find('.ui-btn').addClass('ui-btn-up-c').removeClass('ui-btn-up-f').trigger('refresh'); */			objOrder.removeClass('biz_hidden').trigger('create');			 			//objOrder.find("td:first-child").addClass('active_asc').trigger('create');			/*objCollapse.data('icon', 'arrow-u');    		objCollapse.find(".ui-icon").addClass("ui-icon-arrow-u").removeClass("ui-icon-arrow-d").trigger('refresh'); */ 	}else{			objOrder.addClass('biz_hidden').trigger('create');			objCollapse.data('icon', 'arrow-d');			objCollapse.find(".ui-icon").addClass("ui-icon-arrow-d").removeClass("ui-icon-arrow-u").trigger('refresh');		 /*objCollapse.find('.ui-btn').addClass('ui-btn-hover-c').removeClass('ui-btn-up-c').trigger('refresh'); */			//objOrder.find("td:first-child").addClass('active_desc').trigger('create');		/*	objCollapse.data('icon', 'arrow-d');    		objCollapse.find(".ui-icon").addClass("ui-icon-arrow-u").removeClass("ui-icon-arrow-d").trigger('refresh'); */	}		  }		}  function changeSubOrderStatus(suborder_id,status_id,order_id){	isValid = true;		if(order_id){		order_id = order_id;	}else{		order_id = 0;	} 	 		if(status_id == {/literal}{$smarty.const.TBL_STATUS_ORDER_CANCELLED}{literal}){		isValid = confirm('Are you sure to cancel the order?');	}else{		if(status_id == {/literal}{$smarty.const.TBL_STATUS_CHECK}{literal}){		 		window.open(website + "/user/tbl_orders.php?{/literal}{$smarty.const.MODE_TITLE}={$smarty.const.MODE_VIEW}{literal}&is_pay_now=1&order_id=" + order_id);			return true;		}	}		if((suborder_id > 0) && (status_id > 0) && (isValid)){				var info = {};			info['action'] = "changeSubOrderStatus";			info['var1'] = suborder_id;			info['var2'] = status_id; 	 	   			$.ajax({        type     	: "POST",        url      	: website + "/ajax/custom_functions.php" ,				data	 	  : info,        dataType 	: "json",				async	 		: false,	    	success  	: function(response){  						if(response){							//window.location.href=website + "/user/tbl_orders.php?{/literal}{$smarty.const.MODE_TITLE}={$smarty.const.MODE_VIEW}{literal}&order_id=" + order_id;							window.location.reload();						}				},				error: function(objResponse){				 alert(objResponse.responseText);			}		}); 	}}function changeOrderStatus(order_id,status_id){		isValid = true; 		if(status_id == {/literal}{$smarty.const.TBL_STATUS_ORDER_CANCELLED}{literal}){		isValid = confirm('Are you sure to cancel the order?');	}else{		if(status_id == {/literal}{$smarty.const.TBL_STATUS_CHECK}{literal}){		 		window.open(website + "/user/tbl_orders.php?{/literal}{$smarty.const.MODE_TITLE}={$smarty.const.MODE_VIEW}{literal}&is_pay_now=1&order_id=" + order_id);			return true;		}	}			if((order_id > 0) && (status_id > 0) && (isValid)){				var info = {};			info['action'] = "changeOrderStatus";			info['var1'] = order_id;			info['var2'] = status_id; 	 	 			$.ajax({        type     	: "POST",        url      	: website + "/ajax/custom_functions.php" ,				data	 	  : info,        dataType 	: "json",				async	 		: false,	    	success  	: function(response){  						if(response){							//window.location.href=website + "/user/tbl_orders.php?{/literal}{$smarty.const.MODE_TITLE}={$smarty.const.MODE_VIEW}{literal}&order_id=" + order_id;							window.location.reload();						}				},				error: function(objResponse){				//alert(objResponse.responseText);			}		}); 	}}function confirmTakeOutOrder(){	var isValid = true;	var tkoutTime = $('#order_takeout_time').val();	var order_id = $('#takeout_order_id').val();	if((order_id > 0)==false){		$('#order_takeout_time_err').html('Please select order').trigger('refresh');		isValid = false;	}	if(IsNonEmpty(tkoutTime)==false){		$('#order_takeout_time_err').html('{/literal}{$_lang.messages.validation.not_empty|sprintf:"Take-Out Time"}{literal}').trigger('refresh');		isValid = false;	}else{		if(isInt(tkoutTime)==false){			$('#order_takeout_time_err').html('{/literal}{$_lang.messages.validation.isInt}{literal}').trigger('refresh');			isValid = false;		}	}  if(isValid){  		var info = {};			info['action'] = "confirmTakeOutOrder";			info['var1'] = order_id;			info['var2'] = tkoutTime;  			$.ajax({        type     	: "POST",        url      	: website + "/ajax/custom_functions.php" ,				data	 	  : info,        dataType 	: "json",				async	 		: false,	    	success  	: function(response){    							window.location.reload(); 				},				error: function(objResponse){				//alert(objResponse.responseText);			}		}); 	}}function validatesend_msg(){ 	$('#kitchen_messsage_err').html('');	if(IsNonEmpty($("#kitchen_messsage").val())==false){		$('#kitchen_messsage_err').html('{/literal}{$_lang.main.kitchen.mandatory_send_message}{literal}');		return false;	}else{		return true;	}}function deletetbl_orders(varId){	if(varId > 0){		if(confirm("{/literal}{$_lang.tbl_orders.DELETE.CONFIRM_MSG}{literal}")==true){			window.location.href="{/literal}{$page_url}{literal}?action=delete&order_id="+varId;		}	}}function check_paid(order_id){  if(order_id > 0){ 	var info = {};	info['check_paid']=1;	postForm(info,"{/literal}{$page_url}?mode={$smarty.const.MODE_VIEW}&order_id=" + order_id +"&table_id={$smarty.request.table_id}&table_status={$smarty.request.table_status}&order_session_id={$smarty.request.order_session_id}{literal}");   	return true;  }	}function validatetbl_orders(){	$("#order_id_err").html("");	$("#order_table_id_err").html("");	$("#order_emp_id_err").html("");	$("#order_customer_id_err").html("");	$("#order_customer_name_err").html("");	$("#order_note_err").html("");	$("#order_created_on_err").html("");	$("#order_completed_on_err").html("");	$("#order_status_id_err").html("");	var isErr = true;	if(elemById("action").value=="update"){		if(IsNonEmpty(elemById("order_id").value)==false){			$("#order_id_err").html("{/literal}{$_lang.tbl_orders.not_empty_msg.order_id}{literal}");			isErr = false;		}	}	if(IsNonEmpty(elemById("order_table_id").value)==false){		$("#order_table_id_err").html("{/literal}{$_lang.tbl_orders.not_empty_msg.order_table_id}{literal}");		isErr = false;	}	if(IsNonEmpty(elemById("order_emp_id").value)==false){		$("#order_emp_id_err").html("{/literal}{$_lang.tbl_orders.not_empty_msg.order_emp_id}{literal}");		isErr = false;	}	if(IsNonEmpty(elemById("order_customer_id").value)==false){		$("#order_customer_id_err").html("{/literal}{$_lang.tbl_orders.not_empty_msg.order_customer_id}{literal}");		isErr = false;	}	if(IsNonEmpty(elemById("order_customer_name").value)==false){		$("#order_customer_name_err").html("{/literal}{$_lang.tbl_orders.not_empty_msg.order_customer_name}{literal}");		isErr = false;	}	if(IsNonEmpty(elemById("order_note").value)==false){		$("#order_note_err").html("{/literal}{$_lang.tbl_orders.not_empty_msg.order_note}{literal}");		isErr = false;	}	if(IsNonEmpty(elemById("order_created_on").value)==false){		$("#order_created_on_err").html("{/literal}{$_lang.tbl_orders.not_empty_msg.order_created_on}{literal}");		isErr = false;	}	if(IsNonEmpty(elemById("order_completed_on").value)==false){		$("#order_completed_on_err").html("{/literal}{$_lang.tbl_orders.not_empty_msg.order_completed_on}{literal}");		isErr = false;	}	if(IsNonEmpty(elemById("order_status_id").value)==false){		$("#order_status_id_err").html("{/literal}{$_lang.tbl_orders.not_empty_msg.order_status_id}{literal}");		isErr = false;	}	if(isErr == false){		alert("{/literal}{$_lang.messages.revise_form}{literal}");	}	return isErr;}//..functionfunction delayOrder(){	$('#ord_delay_msg_err').html('');	$('#ord_delay_msg').val('');	$('#popupDelayOrder').popup('open');}function validatedelay_msg(){ 	$('#ord_delay_msg_err').html('');	if(IsNonEmpty($("#ord_delay_msg").val())==false){		$('#ord_delay_msg_err').html('{/literal}{$_lang.main.kitchen.mandatory_send_message}{literal}');		return false;	}else{		return true;	}}function makeOrderReady(orderid){	 var isValid = true;   if(isValid){  		var info = {};			info['action'] = "makeOrderReady";			info['var1'] = orderid; 			info['var2'] = '{/literal}{$tbl_ordersinfo.order_customer_name}{literal}'; 			$.ajax({        type     	: "POST",        url      	: website + "/ajax/custom_functions.php" ,				data	 	  : info,        dataType 	: "json",				async	 		: false,	    	success  	: function(response){ 	    	  		   							window.location.reload(); 				},				error: function(objResponse){				//alert(objResponse.responseText);			 }		}); 	}	}function comparedate(){		var isErr = true;		$(".error").html("");		var compare_date = 0;		if(IsNonEmpty(elemById("start_date").value)==false){			/*$("#start_date_err").html("{/literal}{$_lang.messages.validation.not_empty|sprintf:'Start Date'}{literal}");			isErr = false;*/			compare_date = 0;			}		if(IsNonEmpty(elemById("end_date").value)==false){			/*$("#end_date_err").html("{/literal}{$_lang.messages.validation.not_empty|sprintf:'End Date'}{literal}");			isErr = false;*/			compare_date = 0;		}else{			if(new Date(elemById("end_date").value).getTime()  < new Date(elemById("start_date").value).getTime()){				$("#end_date_err").html("{/literal}{$_lang.messages.validation.gt_others_date|sprintf:'End Date':'Start Date'}{literal}");				isErr = false;			}		}				if(isErr == false){			alert("{/literal}{$_lang.messages.revise_form}{literal}");		}		return isErr;		}{/literal}{if $ask_cust_name eq 1}	 {literal} $(function(){ askCustName(); });{/literal}{/if}{if $smarty.request.is_pay_now eq 1}	{literal} $(function(){ $('#pay_mode_sel').popup('open'); });{/literal}{/if}{if ($add_proms==1) && ($tbl_ordersinfo.order_id>0) && ($tbl_ordersinfo.order_customer_id>0)}	 {literal} $(function(){ openPromotions({/literal}{$tbl_ordersinfo.order_id}{literal},{/literal}{$tbl_ordersinfo.order_customer_id}{literal});  });{/literal}{/if}{literal}</script>{/literal}