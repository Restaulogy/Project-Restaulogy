{literal}<script type="text/javascript">function actiontbl_feedback(action){	var varId = $("input:checked").length;	var isValid = 0;	if(varId > 0){	if(action != ""){		switch (action) {			case '{/literal}{$smarty.const.ACTION_DELETE}{literal}':			if(confirm("{/literal}{$_lang.tbl_dish_options.DELETE.CONFIRM_MSG}{literal}")==true){				isValid = 1;			}			break;			case '{/literal}{$smarty.const.ACTION_DEACTIVATE}{literal}':			isValid = 1;			break;			case '{/literal}{$smarty.const.ACTION_ACTIVATE}{literal}':			isValid = 1;			break;		}        if(isValid){		 	$('#action').val(action);		    $('#frm_tbl_feedback').submit();		}	}	}else{			alert("{/literal}{$_lang.main.select_ids.empty}{literal}"); 	}}function deletetbl_feedback(varId){	if(varId > 0){		if(confirm("{/literal}{$_lang.tbl_feedback.DELETE.CONFIRM_MSG}{literal}")==true){			window.location.href="{/literal}{$website}{literal}/user/tbl_feedback.php?action=delete&id="+varId;		}	}}function validatetbl_feedback(){	$("#id_err").html("");	$("#post_id_err").html("");	$("#post_title_err").html("");	$("#post_type_err").html("");	$("#user_id_err").html("");	$("#recomm_title_err").html("");	$("#recomm_desc_err").html("");	$("#recomm_rating_err").html("");	$("#recomm_QOS_rating_err").html("");	$("#recomm_QOF_rating_err").html("");	$("#recomm_ambience_rating_err").html("");		$("#recomm_email_err").html("");	$("#recomm_phone_err").html("");	/*$("#start_date_err").html("");	$("#end_date_err").html("");*/	var isErr = true;	if(elemById("action").value=="update"){		if(IsNonEmpty(elemById("id").value)==false){			$("#id_err").html("{/literal}{$_lang.tbl_feedback.not_empty_msg.id}{literal}");			isErr = false;		}	}	if(IsNonEmpty(elemById("post_id").value)==false){		$("#post_id_err").html("{/literal}{$_lang.tbl_feedback.not_empty_msg.post_id}{literal}");		isErr = false;	}	if(IsNonEmpty(elemById("post_title").value)==false){		$("#post_title_err").html("{/literal}{$_lang.tbl_feedback.not_empty_msg.post_title}{literal}");		isErr = false;	}	if(IsNonEmpty(elemById("post_type").value)==false){		$("#post_type_err").html("{/literal}{$_lang.tbl_feedback.not_empty_msg.post_type}{literal}");		isErr = false;	}/*	if(IsNonEmpty(elemById("user_id").value)==false){		$("#user_id_err").html("{/literal}{$_lang.tbl_feedback.not_empty_msg.user_id}{literal}");		isErr = false;	}*/	if(IsNonEmpty(elemById("recomm_title").value)==false){		$("#recomm_title_err").html("{/literal}{$_lang.tbl_feedback.not_empty_msg.recomm_title}{literal}");		isErr = false;	}	if(IsNonEmpty($("#recomm_desc").val())==false){		$("#recomm_desc_err").html("{/literal}{$_lang.tbl_feedback.not_empty_msg.recomm_desc}{literal}");		isErr = false;	}	if(is_gt_zero_num(elemById("recomm_rating").value)==false){		$("#recomm_rating_err").html("{/literal}{$_lang.tbl_feedback.not_empty_msg.recomm_rating}{literal}");		isErr = false;	}	if(is_gt_zero_num(elemById("recomm_QOS_rating").value)==false){		$("#recomm_QOS_rating_err").html("{/literal}{$_lang.tbl_feedback.not_empty_msg.recomm_QOS_rating}{literal}");		isErr = false;	}	if(is_gt_zero_num(elemById("recomm_QOF_rating").value)==false){		$("#recomm_QOF_rating_err").html("{/literal}{$_lang.tbl_feedback.not_empty_msg.recomm_QOF_rating}{literal}");		isErr = false;	}	if(is_gt_zero_num(elemById("recomm_ambience_rating").value)==false){		$("#recomm_ambience_rating_err").html("{/literal}{$_lang.tbl_feedback.not_empty_msg.recomm_ambience_rating}{literal}");		isErr = false;	}	if(IsNonEmpty(elemById("recomm_email").value) == false){      	//$('#recomm_email_err').html("Email should not be empty.");    	//isErr = false;    }else{      	if(isEmail(elemById("recomm_email").value) == false){    	  	$('#recomm_email_err').html("Email is not proper.");    		isErr = false;      	}    }    if(IsNonEmpty(elemById("recomm_phone").value) == false ){    	//$('#recomm_phone_err').html("Phone should not be empty.");    	//isErr = false;    }else{      	if(isPhoneNumber(elemById("recomm_phone").value) == false){    	  	$('#recomm_phone_err').html("Phone is not proper.");    		isErr = false;      	}    }    //.. For feedbacks if the rating is 2 or less we need to make email or phone mandatory so the restaurant can contact the customer;    if(elemById("recomm_rating").value<=2){        if(IsNonEmpty(elemById("recomm_email").value) == false && IsNonEmpty(elemById("recomm_phone").value) == false){            $('#recomm_email_err').html("Please provide either Email or phone.");            isErr = false;        }        /*        if(IsNonEmpty(elemById("recomm_email").value) == false){          	$('#recomm_email_err').html("Email should not be empty.");        	isErr = false;        }else{          	if(isEmail(elemById("recomm_email").value) == false){        	  	$('#recomm_email_err').html("Email is not proper.");        		isErr = false;          	}        }        */    }	/*if(IsNonEmpty(elemById("start_date").value)==false){		$("#start_date_err").html("{/literal}{$_lang.tbl_feedback.not_empty_msg.start_date}{literal}");		isErr = false;	}	if(IsNonEmpty(elemById("end_date").value)==false){		$("#end_date_err").html("{/literal}{$_lang.tbl_feedback.not_empty_msg.end_date}{literal}");		isErr = false;	}*/	if(isErr == false){		alert("{/literal}{$_lang.messages.revise_form}{literal}");	}	return isErr;}//..function</script>{/literal}